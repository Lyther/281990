
#########################################
#
# on_action_events
#
#########################################

namespace = acot_precursor_databank

# Gamestart Setting
event = {
	id = acot_precursor_databank.0
	hide_window = yes

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		IF = {
			limit = {
				NOT = {
					exists = event_target:acot_sophia_species
				}
			}
			create_species = {
				name = SOPHIA
				class = SOPHIA_MACHINE
				portrait = sophia_body_01
				traits = {
					ideal_planet_class = pc_gaia
					trait = random_traits
				}
				effect = {
					save_global_event_target_as = acot_sophia_species
				}
			}
		}
		### SPAWN SPECIAL COUNTRIES
		create_country = {
			name = "NAME_ACOT_DATABANK"
			type = acot_databank
			flag = {
				icon = {
					category = "spherical"
					file = "flag_spherical_23.dds"
				}
				background= {
					category = "backgrounds"
					file = "v.dds"
				}
				colors={
					"black"
					"teal"
					"null"
					"null"
				}
			}
            effect = {
                set_country_flag = acot_precursor_databank_country
                save_global_event_target_as = acot_precursor_databank_country
            }
		}
		last_created_country = {
			create_leader = {
				class = scientist
				species = event_target:acot_sophia_species
				name = "SOPHIA-D"
				skill = 10
				immortal = yes
			}
			last_created_leader = {
				save_global_event_target_as = acot_sophia_ruler
			}
			set_leader = last_created_leader
		}
		### TEMPT
	}
}

# Databank INSTALLER
country_event = {
	id = acot_precursor_databank.1
	title = acot_precursor_databank.1.name
	desc = acot_precursor_databank.1.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_databank_room
	}
	
	trigger = {
		is_ai = no
		from = {
			is_country_type = acot_databank
		}
		NOT = { has_country_flag = acot_databank_diplomacy_engaged }
		NOT = { has_country_flag = acot_databank_installed }
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}

	### PROCEED TO MAIN MENU ###
	option = {
        name = acot_precursor_databank.1.a
		response_text = acot_databank_no_tos_access
		is_dialog_only = yes
	}
	
	###  READ TERM OF SERVICE
	option = {
		name = acot_precursor_databank.1.b
		hidden_effect = {
			country_event = { id = acot_precursor_databank.100 }
		}       
	}

	### EXIT INSTALLER
	option = {
		name = acot_precursor_databank.1.exit
        response_text = EXCELLENT
	}
}

# Databank INSTALLER CLONE - For non-contact based 
country_event = {
	id = acot_precursor_databank.101
	title = acot_precursor_databank.1.name
	desc = acot_precursor_databank.1.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_databank_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}

	### PROCEED TO MAIN MENU ###
	option = {
        name = acot_precursor_databank.1.a
		response_text = acot_databank_no_tos_access
		is_dialog_only = yes
	}
	
	###  READ TERM OF SERVICE
	option = {
		name = acot_precursor_databank.1.b
		hidden_effect = {
			country_event = { id = acot_precursor_databank.100 }
		}       
	}

	### EXIT INSTALLER
	option = {
		name = acot_precursor_databank.1.exit
        response_text = EXCELLENT
	}
}

# Databank TERM OF SERVICE
country_event = {
	id = acot_precursor_databank.100
	title = acot_precursor_databank.100.name
	desc = acot_precursor_databank.100.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_hacked_2_room
	}

	show_sound = event_red_alert
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	option = {
        name = acot_precursor_databank.100.a
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.102 }
		}
	}

}

# Databank TERM OF SERVICE
country_event = {
	id = acot_precursor_databank.102
	title = acot_precursor_databank.102.name
	desc = acot_precursor_databank.102.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	show_sound = event_yellow_alert

	picture_event_data = {
		room = acot_sophia_hacked_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	option = {
        name = acot_precursor_databank.102.a
		response_text = acot_precursor_databank.102.a.response
		is_dialog_only = yes
	}

	option = {
        name = acot_precursor_databank.102.b
		response_text = acot_precursor_databank.102.b.response
		is_dialog_only = yes
	}

	option = {
        name = acot_precursor_databank.102.c
		response_text = acot_precursor_databank.102.c.response
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			set_country_flag = acot_databank_tos_agreed
			set_country_flag = acot_databank_installed
		}
	}
	
	option = {
		name = acot_precursor_databank.102.d
		response_text = acot_precursor_databank.102.d.response
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			set_country_flag = acot_databank_tos_agreed
			set_country_flag = acot_databank_installed
		}
	}
}


# Databank MAIN MENU
country_event = {
	id = acot_precursor_databank.2
	title = acot_precursor_databank.2.name
	desc = acot_precursor_databank.2.desc.a
	desc = acot_precursor_databank.2.desc.b
	desc = acot_precursor_databank.2.desc.c	
	desc = acot_precursor_databank.2.desc.d
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_room
		portrait = event_target:acot_sophia_ruler
	}
	
	trigger = {
		from = {
			is_country_type = acot_databank
		}
		has_country_flag = acot_databank_installed 
		NOT = { has_country_flag = acot_databank_diplomacy_engaged }
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
		IF = {
			limit = {
				NOT = {
					exists = event_target:acot_sophia_ruler
				}
			}
			create_leader = {
				class = scientist
				species = event_target:acot_sophia_species
				name = "SOPHIA-D X2LOL"
				skill = 10
				immortal = yes
			}
			last_created_leader = {
				save_global_event_target_as = acot_sophia_ruler
			}
			assign_leader = last_created_leader
		}
	}

	after = {
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}

	###  ACCESS ALPHA TECH EVIDENCE
	option = {
		name = acot_precursor_databank.2.a    
		trigger = {
			NOR = {
				has_tech_option = tech_dark_matter_power_core_ae
				has_technology =tech_dark_matter_power_core_ae
				has_country_flag = learned_dm_alpha_existence
			}
		}
		hidden_effect = {
			country_event = { id = acot_precursor_databank.3 }
		}
	}

	###  ACCESS ARCHIVE
	option = {
		name = acot_precursor_databank.2.b    
		custom_tooltip = acot_precursor_databank.2.b.tooltip
		hidden_effect = {
			country_event = { id = acot_precursor_databank.4 }
		}
	}

	### ACCESS Project Reimagionation
	option = {
		name =  acot_precursor_databank.2.c  
		trigger = {
			NOT = {
				has_country_flag = enable_precursor_ap
			}
		}
		hidden_effect = {
			country_event = { id = acot_precursor_databank.6 }
		}
	}

	### ACCESS Project Reimagionation
	option = {
		name =  acot_precursor_databank.2.d  
		trigger = {
			has_country_flag = enable_precursor_ap
			NAND = {
				has_technology = tech_precursor_escort #1
				has_technology = tech_precursor_bc #2
				has_technology = tech_precursor_titan #3
				has_technology = tech_precursor_assault_carrier #4
				has_technology = tech_precursor_sentinel #5
				has_technology = tech_precursor_guardian #6
				has_technology = tech_precursor_construcor #8
				has_technology = tech_precursor_science #9
				has_technology = tech_precursor_colonizer #10
				has_technology = tech_precursor_citadel #11
				has_technology = tech_precursor_enigmalith #12
				has_technology = tech_precursor_world_shaper #13
			}
		}
		hidden_effect = {
			country_event = { id = acot_precursor_databank.9 }
		}
	}

	### ACCESS Project Reimagionation
	option = {
		name =  acot_precursor_databank.2.e  
		trigger = {
			has_country_flag = acot_stellarite_topic_started
			NOR = {
				has_technology = tech_dark_matter_power_core_se
				has_tech_option = tech_dark_matter_power_core_se
				has_special_project = RESEARCH_STELLARITE_POWER
			}
		}
		hidden_effect = {
			country_event = { id = acot_precursor_databank.9 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
	}
}

# Databank MAIN MENU CLONE
country_event = {
	id = acot_precursor_databank.200
	title = acot_precursor_databank.2.name
	desc = acot_precursor_databank.2.desc.a
	desc = acot_precursor_databank.2.desc.b
	desc = acot_precursor_databank.2.desc.c	
	desc = acot_precursor_databank.2.desc.d
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_room
		portrait = event_target:acot_sophia_ruler
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}

	###  ACCESS ALPHA TECH EVIDENCE
	option = {
		trigger = {
			NOR = {
				has_tech_option = tech_dark_matter_power_core_ae
				has_technology =tech_dark_matter_power_core_ae
				has_country_flag = learned_dm_alpha_existence
			}
		}
		name = acot_precursor_databank.2.a    
		hidden_effect = {
			country_event = { id = acot_precursor_databank.3 }
		}
	}

	###  ACCESS ARCHIVE
	option = {
		name = acot_precursor_databank.2.b    
		custom_tooltip = acot_precursor_databank.2.b.tooltip
		hidden_effect = {
			country_event = { id = acot_precursor_databank.4 }
		}
	}

	### ACCESS Project Reimagionation
	option = {
		name =  acot_precursor_databank.2.c  
		trigger = {
			NOT = {
				has_country_flag = enable_precursor_ap
			}
		}
		hidden_effect = {
			country_event = { id = acot_precursor_databank.6 }
		}
	}

	### ACCESS Project Reimagionation
	option = {
		name =  acot_precursor_databank.2.d  
		trigger = {
			has_country_flag = enable_precursor_ap
			NAND = {
				has_technology = tech_precursor_escort #1
				has_technology = tech_precursor_bc #2
				has_technology = tech_precursor_titan #3
				has_technology = tech_precursor_assault_carrier #4
				has_technology = tech_precursor_sentinel #5
				has_technology = tech_precursor_guardian #6
				has_technology = tech_precursor_construcor #8
				has_technology = tech_precursor_science #9
				has_technology = tech_precursor_colonizer #10
				has_technology = tech_precursor_citadel #11
				has_technology = tech_precursor_enigmalith #12
				has_technology = tech_precursor_world_shaper #13
			}
		}
		hidden_effect = {
			country_event = { id = acot_precursor_databank.9 }
		}
	}

	### ACCESS Project Reimagionation
	option = {
		name =  acot_precursor_databank.2.e  
		trigger = {
			has_country_flag = acot_stellarite_topic_started
			NOR = {
				has_technology = tech_dark_matter_power_core_se
				has_tech_option = tech_dark_matter_power_core_se
				has_special_project = RESEARCH_STELLARITE_POWER
			}
		}
		hidden_effect = {
			country_event = { id = acot_precursor_databank.9 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
	}
}

# Databank ALPHA TECH PATH
country_event = {
	id = acot_precursor_databank.3
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.3.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_room
		portrait = event_target:acot_sophia_ruler
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### BEGINS ###
	option = {
		name = acot_precursor_databank.3.a
		response_text = acot_precursor_databank.3.a.response
		set_country_flag = learned_dm_alpha_existence
		add_research_option = tech_precursor_design_engineering
		add_research_option = tech_precursor_design_history
		add_research_option = tech_precursor_design_physics
		default_hide_option = yes
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.3.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.200 }
		}
	}
}

########################################################### ARCHIVES ############################################################

# Databank ARCHIVE
country_event = {
	id = acot_precursor_databank.4
	title = acot_precursor_databank.4.name
	desc = acot_precursor_databank.4.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_room
		portrait = event_target:acot_sophia_ruler
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### ACCESS Tech Archive
	option = {
		name =  acot_precursor_databank.4.a  
		hidden_effect = {
			country_event = { id = acot_precursor_databank.400 }
		}
	}

	### ACCESS PRECURSOR ARCHIVE ###
	option = {
        name = acot_precursor_databank.4.b
		trigger = {
			has_country_flag = enable_precursor_ap
		}
		hidden_effect = {
			country_event = { id = acot_precursor_databank.5 }
		}
	} 

	###  ACCESS OUTER GATE ARCHIVE - UNFINISHED
	option = {
		name = acot_precursor_databank.4.c  
		trigger = {
			is_country_type = swarm
		}
	}

	### ACCESS Faction Archive
	option = {
		name =  acot_precursor_databank.4.d  
		hidden_effect = {
			country_event = { id = acot_precursor_databank.405 }
		}
	}

	###  BACK ###
	option = {
		name = acot_precursor_databank.4.e
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.200 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.4.f  
		response_text = acot_precursor_databank.4.f.response
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank TECH INFO ARCHIVE
country_event = {
	id = acot_precursor_databank.400
	title = acot_precursor_databank.400.name
	desc = acot_precursor_databank.400.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_room
		portrait = event_target:acot_sophia_ruler
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

# ARMY
	option = {
		name = acot_precursor_databank.400.army
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.401 }
		}
	}
#  BUILDING

	option = {
		name = acot_precursor_databank.400.planet
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.402 }
		}
	}
	
#  COMPUTER
	option = {
		name = acot_precursor_databank.400.tech
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.403 }
		}
	}
# WEAPON
	option = {
		name = acot_precursor_databank.400.weapon
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.404 }
		}
	}

	###  BACK ###
	option = {
		name = acot_precursor_databank.400.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.200 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.400.c  
		response_text = acot_precursor_databank.400.c.response
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank TECH INFO ARMY
country_event = {
	id = acot_precursor_databank.401
	title = acot_precursor_databank.401.name
	desc = acot_precursor_databank.401.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_army_sophia_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### DELTA ARMY ###
	option = {
		name = acot_precursor_databank.401.darkarmy
		trigger = { has_technology = tech_acot_army_dm }
		response_text = acot_precursor_databank.401.a.darkarmy
		is_dialog_only = yes
	}

	### ELITE CLONE ###
	option = {
		name = acot_precursor_databank.401.clone
		trigger = { has_technology = tech_acot_army_clone_dm }
		response_text = acot_precursor_databank.401.a.clone
		is_dialog_only = yes
	}

	### Omnidroid ###
	option = {
		name = acot_precursor_databank.401.omnidroid
		trigger = { has_technology = tech_acot_army_robotic_dm }
		response_text = acot_precursor_databank.401.a.omnidroid
		is_dialog_only = yes
	}

	### Omnidroid ###
	option = {
		name = acot_precursor_databank.401.spmdroid
		trigger = { has_technology = tech_acot_army_machine_dm }
		response_text = acot_precursor_databank.401.a.spmdroid
		is_dialog_only = yes
	}


	###  BACK ###
	option = {
		name = acot_precursor_databank.401.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.400 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.401.c  
		response_text = acot_precursor_databank.401.c.response
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank TECH INFO BUILDING
country_event = {
	id = acot_precursor_databank.402
	title = acot_precursor_databank.402.name
	desc = acot_precursor_databank.402.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_building_sophia_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### CAPIATAL ###
	option = {
		name = acot_precursor_databank.402.palace
		trigger = { has_technology = tech_ae_ancient_palace }
		response_text = acot_precursor_databank.402.a.palace
		is_dialog_only = yes
	}

	### CAPIATAL ###
	option = {
		name = acot_precursor_databank.402.cluster
		trigger = { has_technology = tech_ae_ancient_hive_cluster  }
		response_text = acot_precursor_databank.402.a.cluster
		is_dialog_only = yes
	}
	
	### CAPIATAL ###
	option = {
		name = acot_precursor_databank.402.controlcen
		trigger = { has_technology = tech_ae_ancient_control_center }
		response_text = acot_precursor_databank.402.a.controlcen
		is_dialog_only = yes
	}

	###  BACK ###
	option = {
		name = acot_precursor_databank.402.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.400 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.402.c  
		response_text = acot_precursor_databank.402.c.response
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}


# Databank TECH INFO COMP
country_event = {
	id = acot_precursor_databank.403
	title = acot_precursor_databank.403.name
	desc = acot_precursor_databank.403.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_building_sophia_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### HIVE COMPUTER ###
	option = {
		name = acot_precursor_databank.403.pleb_ships
		response_text = acot_precursor_databank.403.a.pleb_ships
		is_dialog_only = yes
	}


	### HIVE COMPUTER ###
	option = {
		name = acot_precursor_databank.403.hivecom
		trigger = { has_technology = tech_ae_hive_computer }
		response_text = acot_precursor_databank.403.a.hivecom
		is_dialog_only = yes
	}

	### BIO COMPUTER ###
	option = {
		name = acot_precursor_databank.403.biocom
		trigger = { has_technology = tech_bionic_interface }
		response_text = acot_precursor_databank.403.a.biocom
		is_dialog_only = yes
	}

	### PSION COMPUTER ###
	option = {
		name = acot_precursor_databank.403.psicom
		trigger = { has_technology = tech_ae_psi_computer }
		response_text = acot_precursor_databank.403.a.psicom
		is_dialog_only = yes
	}

	### PSION COMPUTER ###
	option = {
		name = acot_precursor_databank.403.hardlight
		trigger = { has_technology = tech_armor_dm }
		response_text = acot_precursor_databank.403.a.hardlight
		is_dialog_only = yes
	}

	###  BACK ###
	option = {
		name = acot_precursor_databank.403.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.403 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.403.c
		response_text = acot_precursor_databank.403.c.response
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank TECH INFO WEAPONO
country_event = {
	id = acot_precursor_databank.404
	title = acot_precursor_databank.404.name
	desc = acot_precursor_databank.404.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_weapon_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

#################  WEAPON #################
	
	### DISRUPTORS ###
	option = {
		name = acot_precursor_databank.404.emitters
		trigger = { 
			has_technology = tech_disruptors_1
		}
		response_text = acot_precursor_databank.404.a.emitters
		is_dialog_only = yes
	}

#################  DEFENSE #################

	### SHIELD ###
	option = {
		name = acot_precursor_databank.404.shield
		trigger = { 
		}
		response_text = acot_precursor_databank.404.a.shield
		is_dialog_only = yes
	}

	### ARMOR ###
	option = {
		name = acot_precursor_databank.404.armor
		trigger = { 
		}
		response_text = acot_precursor_databank.404.a.armor
		is_dialog_only = yes
	}


	###  BACK ###
	option = {
		name = acot_precursor_databank.404.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.400 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.404.c  
		response_text = acot_precursor_databank.404.c.response
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank DOSSIER INFO ARCHIVE
country_event = {
	id = acot_precursor_databank.405
	title = acot_precursor_databank.405.name
	desc = acot_precursor_databank.405.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_dossier_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

# SMUGGLER
	option = {
		name = acot_precursor_databank.405.phanon
		response_text = acot_precursor_databank.405.phanon.response
		is_dialog_only = yes
		hidden_effect = {
		}
	}

# CURATORS
	option = {
		name = acot_precursor_databank.405.curator
		response_text = acot_precursor_databank.405.curator.response
		is_dialog_only = yes
		hidden_effect = {
		}
	}

	option = {
		name = acot_precursor_databank.405.ancient_council
		response_text = acot_precursor_databank.405.ancient_council.response
		is_dialog_only = yes
		hidden_effect = {
		}
	}

	option = {
		name = acot_precursor_databank.405.sophia
		response_text = acot_precursor_databank.405.sophia.response
		is_dialog_only = yes
		hidden_effect = {
		}
	}

	###  BACK ###
	option = {
		name = acot_precursor_databank.405.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.400 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.405.c  
		response_text = acot_precursor_databank.405.c.response
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}


# Databank ALPHA TECH PATH
country_event = {
	id = acot_precursor_databank.5
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.5.desc

	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_room
		portrait = event_target:acot_sophia_ruler
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### 1 ESCORT NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.escort
		response_text = acot_precursor_databank.5.nodata.escort.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_escort } }
	}
	### 1 ESCORT ###
	option = {
		name = acot_precursor_databank.5.escort
		trigger = { has_technology = tech_precursor_escort }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.500 }
		}
	}

	### 2 BC NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.bc
		response_text = acot_precursor_databank.5.nodata.bc.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_bc } }
	}
	### 2 BC ###
	option = {
		name = acot_precursor_databank.5.bc
		trigger = { has_technology = tech_precursor_bc }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.501 }
		}
	}

	### 3 HYPERION NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.titan
		response_text = acot_precursor_databank.5.nodata.titan.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_titan } }
	}
	### 3 HYPERION ###
	option = {
		name = acot_precursor_databank.5.titan
		trigger = { has_technology = tech_precursor_titan }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.502 }
		}
	}

	### 4 PAC NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.pac
		response_text = acot_precursor_databank.5.nodata.pac.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_assault_carrier } }
	}
	### 4 PAC ###
	option = {
		name = acot_precursor_databank.5.pac
		trigger = { has_technology = tech_precursor_assault_carrier }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.503 }
		}
	}

	### 5 GUARDIAN NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.guardian
		response_text = acot_precursor_databank.5.nodata.guardian.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_guardian } }
	}
	### 5 GUARDIAN ###
	option = {
		name = acot_precursor_databank.5.guardian
		trigger = { has_technology = tech_precursor_guardian }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.504 }
		}
	}

	### 6 SENTINEL NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.sentinel
		response_text = acot_precursor_databank.5.nodata.sentinel.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_sentinel } }
	}
	### 6 SENTINEL ###
	option = {
		name = acot_precursor_databank.5.sentinel
		trigger = { has_technology = tech_precursor_sentinel }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.505 }
		}
	}

	### 8 ORACLE NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.oracle
		response_text = acot_precursor_databank.5.nodata.oracle.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_science } }
	}
	### 8 ORACLE ###
	option = {
		name = acot_precursor_databank.5.oracle
		trigger = { has_technology = tech_precursor_science }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.507 }
		}
	}

	### 9 INITIALIZER NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.initer
		response_text = acot_precursor_databank.5.nodata.initer.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_construcor } }
	}
	### 9 INITIALIZER ###
	option = {
		name = acot_precursor_databank.5.initer
		trigger = { has_technology = tech_precursor_construcor }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.508 }
		}
	}

	### 10 EMISSARY NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.emiss
		response_text = acot_precursor_databank.5.nodata.emiss.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_colonizer } }
	}
	### 10 EMISSARY ###
	option = {
		name = acot_precursor_databank.5.emiss
		trigger = { has_technology = tech_precursor_colonizer }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.509 }
		}
	}

	### 11 CITADEL NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.citadel
		response_text = acot_precursor_databank.5.nodata.citadel.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_citadel } }
	}
	### 11 CITADEL ###
	option = {
		name = acot_precursor_databank.5.citadel
		trigger = { has_technology = tech_precursor_citadel }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.510 }
		}
	}

	### 12 ENIGMALITH NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.enigmalith
		response_text = acot_precursor_databank.5.nodata.enigmalith.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_enigmalith } }
	}
	### 12 ENIGMALITH ###
	option = {
		name = acot_precursor_databank.5.enigmalith
		trigger = { has_technology = tech_precursor_enigmalith }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.511 }
		}
	}

	### 13 HERCULEAN NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.colos
		response_text = acot_precursor_databank.5.nodata.colos.desc
		is_dialog_only = yes
		trigger = { 
			NOT = { has_technology = tech_precursor_colossus } 
			NOT = { has_global_flag = acot_herculean_forbidden }
		}
	}
	### 13 HERCULEAN ###
	option = {
		name = acot_precursor_databank.5.colos
		trigger = { 
			has_technology = tech_precursor_colossus
			NOT = { has_global_flag = acot_herculean_forbidden }
		}
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.512 }
		}
	}

	### 14 WORLD SHAAPER NO DATA ###
	option = {
		name = acot_precursor_databank.5.nodata.shaper
		response_text = acot_precursor_databank.5.nodata.shaper.desc
		is_dialog_only = yes
		trigger = { NOT = { has_technology = tech_precursor_world_shaper } }
	}
	### 14 EMISSARY ###
	option = {
		name = acot_precursor_databank.5.emiss
		trigger = { has_technology = tech_precursor_world_shaper }
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.509 }
		}
	}

	###  BACK ###
	option = {
		name = acot_precursor_databank.5.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.200   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank Escort
country_event = {
	id = acot_precursor_databank.500
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.500.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_escort_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.escort.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.escort.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank BC
country_event = {
	id = acot_precursor_databank.501
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.501.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_bc_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.bc.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.bc.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank TITAN
country_event = {
	id = acot_precursor_databank.502
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.502.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_titan_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.titan.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.titan.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank PAC
country_event = {
	id = acot_precursor_databank.503
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.503.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_pac_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.pac.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.pac.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank Guardian
country_event = {
	id = acot_precursor_databank.504
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.504.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_guard_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.guardian.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.guardian.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank Sentinel
country_event = {
	id = acot_precursor_databank.505
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.505.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sentinel_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.sentinel.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.sentinel.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank Gatekeeper
country_event = {
	id = acot_precursor_databank.506
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.506.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_keeper_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.gate.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.gate.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank Oracle
country_event = {
	id = acot_precursor_databank.507
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.507.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_oracle_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.oracle.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.oracle.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank Initializer
country_event = {
	id = acot_precursor_databank.508
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.508.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_building_sophia_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.initer.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.initer.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank Emissary
country_event = {
	id = acot_precursor_databank.509
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.509.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_colozer_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.emiss.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.emiss.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank Citadel
country_event = {
	id = acot_precursor_databank.510
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.510.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_citadel_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.citadel.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.citadel.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank Enigmalith
country_event = {
	id = acot_precursor_databank.511
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.511.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_enigmalith_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.enigmalith.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.enigmalith.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# Databank Herculean
country_event = {
	id = acot_precursor_databank.512
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.512.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_colos_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### GENERAL LORE ###
	option = {
		name = acot_precursor_databank.500.lore
		response_text = acot_precursor_databank.500.a.colos.lore
		is_dialog_only = yes
	}

	### TACTICAL LORE ###
	option = {
		name = acot_precursor_databank.500.tacdata
		response_text = acot_precursor_databank.500.a.colos.data
		is_dialog_only = yes
	}
	
	###  BACK ###
	option = {
		name = acot_precursor_databank.500.b
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.5   }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

############################################################ PRECURSOR STUFFS ############################################################

# Ask About Getting Designs
country_event = {
	id = acot_precursor_databank.6
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.6.desc.a
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_escort_room
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

	### ASK ###
	option = {
		name = acot_precursor_databank.6.a
		is_dialog_only = yes
		response_text = acot_precursor_databank.6.a.response
		hidden_effect = {
		}
	}

	### ASK ###
	option = {
		name = acot_precursor_databank.6.b
		is_dialog_only = yes
		response_text = acot_precursor_databank.6.b.response
		hidden_effect = {
		}
	}

	### ASK ###
	option = {
		name = acot_precursor_databank.6.c
		is_dialog_only = yes
		trigger = {
			any_country = {
				is_fallen_empire = yes
			}
		}
		response_text = acot_precursor_databank.6.c.response
		hidden_effect = {
		}
	}

	### ASK ###
	option = {
		name = acot_precursor_databank.6.c
		is_dialog_only = yes
		trigger = {
			NOR = {
				any_country = {
					is_fallen_empire = yes
				}
			}
		}
		response_text = acot_precursor_databank.6.c.response.nofe
		hidden_effect = {
		}
	}

	### ENABLE AP ###
	option = {
		name = acot_precursor_databank.6.d
		custom_tooltip = acot_precursor_databank.6.d.explain
		trigger = {
			NOT = {
				has_country_flag = enable_precursor_ap
			}
		}
		hidden_effect = {
			set_country_flag = enable_precursor_ap
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.9 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.6.e  
		response_text = acot_precursor_databank.6.e.response
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

# ASCENSION PERK PICKO
country_event = {
	id = acot_precursor_databank.8
	title = acot_precursor_databank.8.name
	desc = acot_precursor_databank.8.desc
	picture = GFX_evt_matter_decompressor
	show_sound = event_completed
	is_triggered_only = yes

	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = acot_precursor_databank.8.a
		custom_tooltip = acot_precursor_databank.8.a.explain
    }
}

#### PROJECT
country_event = {
	id = acot_precursor_databank.9
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.9.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_room
		portrait = event_target:acot_sophia_ruler
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}

#################  WEAPON #################
	
	### ASK ABOUT THE PROJECT ###
	option = {
		name = acot_precursor_databank.9.a
		response_text = acot_precursor_databank.9.a.response
		is_dialog_only = yes
	}

	### SELECT PROJECT ###
	option = {
		name = acot_precursor_databank.9.b
		default_hide_option = yes
		trigger = {
			NOT = {
				has_country_flag = precuursor_design_project_active
			}
		}
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.900 }
		}
	}


	###  BACK ###
	option = {
		name = acot_precursor_databank.9.c
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.200 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

#### PROJECT
country_event = {
	id = acot_precursor_databank.900
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.900.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_room
		portrait = event_target:acot_sophia_ruler
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}
	
	### ESCORT ###
	option = {
		name = acot_precursor_databank.900.escort
		custom_tooltip = acot_precursor_databank.900.escort.infodata
		allow = {
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 500
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 500
			}
		}
		trigger = {
			NOR = {
				has_tech_option = tech_precursor_escort
				has_technology = tech_precursor_escort
			}
		}
		response_text = acot_precursor_databank.900.escort.response
		add_resource = {
			acot_sr_dark_energy = -500
			sr_dark_matter = -500
		}
		set_country_flag = project_escort_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 100
			}
			set_variable = {
				which = acot_quota_required
				value = 100
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### BATTLECRUISER ###
	option = {
		name = acot_precursor_databank.900.bc
		custom_tooltip = acot_precursor_databank.900.bc.infodata
		allow = {
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 1250
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 1250
			}
		}
		trigger = {
			NOR = {
				has_tech_option = tech_precursor_bc
				has_technology = tech_precursor_bc
			}
		}
		response_text = acot_precursor_databank.900.bc.response
		add_resource = {
			acot_sr_dark_energy = -1250
			sr_dark_matter = -1250
		}
		set_country_flag = project_bc_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 150
			}
			set_variable = {
				which = acot_quota_required
				value = 150
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### GUARDIAN ###
	option = {
		name = acot_precursor_databank.900.guard
		custom_tooltip = acot_precursor_databank.900.guard.infodata
		allow = {
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 1250
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 1250
			}
		}
		trigger = {
			NOR = {
				has_tech_option = tech_precursor_guardian
				has_technology = tech_precursor_guardian
			}
		}
		response_text = acot_precursor_databank.900.guard.response
		add_resource = {
			acot_sr_dark_energy = -1250
			sr_dark_matter = -1250
		}
		set_country_flag = project_guard_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 150
			}
			set_variable = {
				which = acot_quota_required
				value = 150
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### Oracke ###
	option = {
		name = acot_precursor_databank.900.oracle
		custom_tooltip = acot_precursor_databank.900.oracle.infodata
		allow = {
			has_ascension_perk = ap_precursor_dream
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 1000
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 1000
			}
		}
		trigger = {
			has_technology = tech_precursor_escort
			NOR = {
				has_tech_option = tech_precursor_science
				has_technology = tech_precursor_science
			}
		}
		response_text = acot_precursor_databank.900.oracle.response
		add_resource = {
			acot_sr_dark_energy = -1000
			sr_dark_matter = -1000
		}
		set_country_flag = project_oracle_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 150
			}
			set_variable = {
				which = acot_quota_required
				value = 150
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### Emissary ###
	option = {
		name = acot_precursor_databank.900.emiss
		custom_tooltip = acot_precursor_databank.900.emiss.infodata
		allow = {
			has_ascension_perk = ap_precursor_dream
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 1000
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 1000
			}
		}
		trigger = {
			has_technology = tech_precursor_escort
			NOR = {
				has_tech_option = tech_precursor_colonizer
				has_technology = tech_precursor_colonizer
			}
		}
		response_text = acot_precursor_databank.900.emiss.response
		add_resource = {
			acot_sr_dark_energy = -1000
			sr_dark_matter = -1000
		}
		set_country_flag = project_emiss_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 200
			}
			set_variable = {
				which = acot_quota_required
				value = 200
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### Initialzer ###
	option = {
		name = acot_precursor_databank.900.initi
		custom_tooltip = acot_precursor_databank.900.initi.infodata
		allow = {
			has_ascension_perk = ap_precursor_dream
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 1000
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 1000
			}
		}
		trigger = {
			has_technology = tech_precursor_escort
			NOR = {
				has_tech_option = tech_precursor_construcor
				has_technology = tech_precursor_construcor
			}
		}
		response_text = acot_precursor_databank.900.initi.response
		add_resource = {
			acot_sr_dark_energy = -1000
			sr_dark_matter = -1000
		}
		set_country_flag = project_initi_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 200
			}
			set_variable = {
				which = acot_quota_required
				value = 200
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### SHAPER ###
	option = {
		name = acot_precursor_databank.900.shaper
		custom_tooltip = acot_precursor_databank.900.shaper.infodata
		allow = {
			has_ascension_perk = ap_precursor_dream
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 1000
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 1000
			}
		}
		trigger = {
			has_technology = tech_precursor_escort
			NOR = {
				has_tech_option = tech_precursor_world_shaper
				has_technology = tech_precursor_world_shaper
			}
		}
		response_text = acot_precursor_databank.900.shaper.response
		add_resource = {
			acot_sr_dark_energy = -1000
			sr_dark_matter = -1000
		}
		set_country_flag = project_shaper_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 400
			}
			set_variable = {
				which = acot_quota_required
				value = 400
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### Hyperion ###
	option = {
		name = acot_precursor_databank.900.titan
		custom_tooltip = acot_precursor_databank.900.titan.infodata
		allow = {
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 1750
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 1750
			}
		}
		trigger = {
			has_technology = tech_precursor_bc
			NOR = {
				has_tech_option = tech_precursor_titan
				has_technology = tech_precursor_titan
			}
		}
		response_text = acot_precursor_databank.900.titan.response
		add_resource = {
			acot_sr_dark_energy = -1750
			sr_dark_matter = -1750
		}
		set_country_flag = project_titan_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 250
			}
			set_variable = {
				which = acot_quota_required
				value = 250
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### PAC ###
	option = {
		name = acot_precursor_databank.900.pac
		custom_tooltip = acot_precursor_databank.900.pac.infodata
		allow = {
			has_ascension_perk = ap_precursor_dream
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 1750
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 1750
			}
		}
		trigger = {
			has_technology = tech_precursor_bc
			NOR = {
				has_tech_option = tech_precursor_assault_carrier
				has_technology = tech_precursor_assault_carrier
			}
		}
		response_text = acot_precursor_databank.900.pac.response
		add_resource = {
			acot_sr_dark_energy = -1750
			sr_dark_matter = -1750
		}
		set_country_flag = project_pac_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 250
			}
			set_variable = {
				which = acot_quota_required
				value = 250
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### SENTINEL ###
	option = {
		name = acot_precursor_databank.900.sentinel
		custom_tooltip = acot_precursor_databank.900.sentinel.infodata
		allow = {
			has_ascension_perk = ap_precursor_dream
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 2000
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 2000
			}
		}
		trigger = {
			has_technology = tech_precursor_guardian
			NOR = {
				has_tech_option = tech_precursor_sentinel
				has_technology = tech_precursor_sentinel
			}
		}
		response_text = acot_precursor_databank.900.sentinel.response
		add_resource = {
			acot_sr_dark_energy = -2000
			sr_dark_matter = -2000
		}
		set_country_flag = project_sentinel_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 250
			}
			set_variable = {
				which = acot_quota_required
				value = 250
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### Citadel ###
	option = {
		name = acot_precursor_databank.900.citadel
		custom_tooltip = acot_precursor_databank.900.citadel.infodata
		allow = {
			has_ascension_perk = ap_precursor_dream
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 2500
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 2500
			}
		}
		trigger = {
			has_technology = tech_precursor_guardian
			has_technology = tech_precursor_sentinel
			NOR = {
				has_tech_option = tech_precursor_citadel
				has_technology = tech_precursor_citadel
			}
		}
		response_text = acot_precursor_databank.900.citadel.response
		add_resource = {
			acot_sr_dark_energy = -2500
			sr_dark_matter = -2500
		}
		set_country_flag = project_citadel_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 600
			}
			set_variable = {
				which = acot_quota_required
				value = 600
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	### Enigmalith ###
	option = {
		name = acot_precursor_databank.900.enigmalith
		custom_tooltip = acot_precursor_databank.900.enigmalith.infodata
		allow = {
			has_ascension_perk = ap_precursor_dream
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 1800
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 1800
			}
		}
		trigger = {
			has_technology = tech_dark_matter_generator
			has_technology = tech_dark_energy_pylon
			NOR = {
				has_tech_option = tech_precursor_enigmalith
				has_technology = tech_precursor_enigmalith
			}
		}
		response_text = acot_precursor_databank.900.enigmalith.response
		add_resource = {
			acot_sr_dark_energy = -1800
			sr_dark_matter = -1800
		}
		set_country_flag = project_enigmalith_selected
		hidden_effect = {
			begin_event_chain = {
				event_chain = acot_precursor_design_chain
			}
			add_event_chain_counter = {
				event_chain = acot_precursor_design_chain
				counter = quota_required
				amount = 600
			}
			set_variable = {
				which = acot_quota_required
				value = 600
			}
			IF = {
				limit = {
					has_ascension_perk = ap_precursor_dream
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 6
				}
				set_variable = {
					which = acot_quota_attempts
					value = 6
				}
			}
			ELSE_IF = {
				limit = {
					NOT = { has_ascension_perk = ap_precursor_dream }
				}
				add_event_chain_counter = {
					event_chain = acot_precursor_design_chain
					counter = attempts_remain
					amount = 5
				}
				set_variable = {
					which = acot_quota_attempts
					value = 5
				}
			}
			set_country_flag = precuursor_design_project_active
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.901 days = 1 }
		}
	}

	###  BACK ###
	option = {
		name = acot_precursor_databank.9.c
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
			country_event = { id = acot_precursor_databank.200 }
		}
	}

	### EXIT
	option = {
		name =  acot_precursor_databank.2.f  
		response_text = EXCELLENT
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}
}

#### PROJECT RESOURCE CALL
country_event = {
	id = acot_precursor_databank.901
	title = acot_precursor_databank.3.name
	desc = acot_precursor_databank.901.desc
	
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = "enclave_curator_window"

	picture_event_data = {
		room = acot_sophia_room
		portrait = event_target:acot_sophia_ruler
	}
	
	trigger = {
	}

	immediate = {
		set_country_flag = acot_databank_diplomacy_engaged
	}

	after = {
	}
	
	### STANDARD ###
	option = {
		name = acot_precursor_databank.901.a
		custom_tooltip = acot_precursor_databank.901.a.explain
		allow = {
			
		}
		enable_special_project = {
			name = "RESEARCH_PRECURSOR_ATTEMPT"
			owner = ROOT
		}
		default_hide_option = yes
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}

	### HIGH ###
	option = {
		name = acot_precursor_databank.901.b
		custom_tooltip = acot_precursor_databank.901.b.explain
		allow = {
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 500
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 500
			}
			resource_stockpile_compare = {
				resource = minor_artifacts
				value >= 10
			}
		}
		add_resource = {
			acot_sr_dark_energy = -500
			sr_dark_matter = -500
			minor_artifacts = -10
		}
		capital_scope = { save_event_target_as = pc_home }
		enable_special_project = {
			name = "RESEARCH_PRECURSOR_ATTEMPT_HIGH"
			owner = ROOT
		}
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}

	### EXTREME ###
	option = {
		name = acot_precursor_databank.901.c
		custom_tooltip = acot_precursor_databank.901.c.explain
		allow = {
			resource_stockpile_compare = {
				resource = acot_sr_dark_energy
				value >= 1500
			}
			resource_stockpile_compare = {
				resource = sr_dark_matter
				value >= 1500
			}
			resource_stockpile_compare = {
				resource = minor_artifacts
				value >= 35
			}			
		}
		add_resource = {
			acot_sr_dark_energy = -1500
			sr_dark_matter = -1500
			minor_artifacts = -35
		}
		capital_scope = { save_event_target_as = pc_home }
		enable_special_project = {
			name = "RESEARCH_PRECURSOR_ATTEMPT_EXTREME"
			owner = ROOT
		}
		hidden_effect = {
			remove_country_flag = acot_databank_diplomacy_engaged
		}
	}	
}

# INCOMPLETED BUT STILL HAS ATTEMPTS
country_event = {
	id = acot_precursor_databank.902
	title = acot_precursor_databank.902.name
	desc = acot_precursor_databank.902.desc
	picture = GFX_evt_matter_decompressor
	show_sound = event_completed
	is_triggered_only = yes

	trigger = {
	}
	
	immediate = {
	}
	
    option = {
		name = acot_precursor_databank.902.a
		custom_tooltip = acot_precursor_databank.902.a.explain
		default_hide_option = yes
		hidden_effect =  {
			country_event = {
				id = acot_precursor_databank.901
			}
		}
	}

	option = {
		name = acot_precursor_databank.902.b
		custom_tooltip = acot_precursor_databank.902.b.explain
		if = { limit = { has_country_flag = project_escort_selected } remove_country_flag = project_escort_selected }
		if = { limit = { has_country_flag = project_bc_selected } remove_country_flag = project_bc_selected }
		if = { limit = { has_country_flag = project_guard_selected } remove_country_flag = project_guard_selected }
		if = { limit = { has_country_flag = project_sentinel_selected } remove_country_flag = project_sentinel_selected }
		if = { limit = { has_country_flag = project_titan_selected } remove_country_flag = project_titan_selected }
		if = { limit = { has_country_flag = project_pac_selected } remove_country_flag = project_pac_selected }
		if = { limit = { has_country_flag = project_enigmalith_selected } remove_country_flag = project_enigmalith_selected }
		if = { limit = { has_country_flag = project_citadel_selected } remove_country_flag = project_citadel_selected }
		if = { limit = { has_country_flag = project_initi_selected } remove_country_flag = project_initi_selected }
		if = { limit = { has_country_flag = project_oracle_selected } remove_country_flag = project_oracle_selected }
		if = { limit = { has_country_flag = project_emiss_selected } remove_country_flag = project_emiss_selected }
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
	}

}


# INCOMPLETED, NO ATTEMPTS LEFT
country_event = {
	id = acot_precursor_databank.903
	title = acot_precursor_databank.903.name
	desc = acot_precursor_databank.903.desc
	picture = GFX_evt_exploding_ship
	show_sound = event_ship_explosion
	is_triggered_only = yes

	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = acot_precursor_databank.903.a
		custom_tooltip = acot_precursor_databank.903.a.explain
		if = { limit = { has_country_flag = project_escort_selected } remove_country_flag = project_escort_selected }
		if = { limit = { has_country_flag = project_bc_selected } remove_country_flag = project_bc_selected }
		if = { limit = { has_country_flag = project_guard_selected } remove_country_flag = project_guard_selected }
		if = { limit = { has_country_flag = project_sentinel_selected } remove_country_flag = project_sentinel_selected }
		if = { limit = { has_country_flag = project_titan_selected } remove_country_flag = project_titan_selected }
		if = { limit = { has_country_flag = project_pac_selected } remove_country_flag = project_pac_selected }
		if = { limit = { has_country_flag = project_enigmalith_selected } remove_country_flag = project_enigmalith_selected }
		if = { limit = { has_country_flag = project_citadel_selected } remove_country_flag = project_citadel_selected }
		if = { limit = { has_country_flag = project_initi_selected } remove_country_flag = project_initi_selected }
		if = { limit = { has_country_flag = project_oracle_selected } remove_country_flag = project_oracle_selected }
		if = { limit = { has_country_flag = project_emiss_selected } remove_country_flag = project_emiss_selected }
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
    }
}

# SUCCESSS
country_event = {
	id = acot_precursor_databank.904
	title = acot_precursor_databank.904.name
	desc = {
		trigger = {
			has_country_flag = project_escort_selected		
		}
		text = acot_precursor_databank.904.desc.escort
	}
	desc = {
		trigger = {
			has_country_flag = project_bc_selected		
		}
		text = acot_precursor_databank.904.desc.bc
	}
	desc = {
		trigger = {
			has_country_flag = project_guard_selected		
		}
		text = acot_precursor_databank.904.desc.guard
	}
	desc = {
		trigger = {
			has_country_flag = project_initi_selected		
		}
		text = acot_precursor_databank.904.desc.initi
	}
	desc = {
		trigger = {
			has_country_flag = project_emiss_selected		
		}
		text = acot_precursor_databank.904.desc.emiss
	}
	desc = {
		trigger = {
			has_country_flag = project_oracle_selected		
		}
		text = acot_precursor_databank.904.desc.oracle
	}
	desc = {
		trigger = {
			has_country_flag = project_shaper_selected		
		}
		text = acot_precursor_databank.904.desc.shaper
	}
	desc = {
		trigger = {
			has_country_flag = project_titan_selected		
		}
		text = acot_precursor_databank.904.desc.titan
	}
	desc = {
		trigger = {
			has_country_flag = project_pac_selected		
		}
		text = acot_precursor_databank.904.desc.pac
	}
	desc = {
		trigger = {
			has_country_flag = project_sentinel_selected		
		}
		text = acot_precursor_databank.904.desc.sentinel
	}
	desc = {
		trigger = {
			has_country_flag = project_citadel_selected		
		}
		text = acot_precursor_databank.904.desc.citadel
	}
	desc = {
		trigger = {
			has_country_flag = project_enigmalith_selected		
		}
		text = acot_precursor_databank.904.desc.enigmalith
	}
	picture = GFX_evt_physics_research
	show_sound = event_completed
	is_triggered_only = yes

	trigger = {
	}
	
	immediate = {
	}
	
	###ESCARGOT
	option = {
		trigger = {
			has_country_flag = project_escort_selected
		}
		name = acot_precursor_databank.904.escort
		remove_country_flag = project_escort_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_escort
		add_tech_progress = {
			tech = tech_precursor_escort
			progress = 0.20
		}
	}
	
	###BATTLEBUS
	option = {
		trigger = {
			has_country_flag = project_bc_selected
		}
		name = acot_precursor_databank.904.bc
		remove_country_flag = project_bc_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_bc
		add_tech_progress = {
			tech = tech_precursor_bc
			progress = 0.20
		}
    }

	###PLATFORM
	option = {
		trigger = {
			has_country_flag = project_guard_selected
		}
		name = acot_precursor_databank.904.guard
		remove_country_flag = project_guard_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_guardian
		add_tech_progress = {
			tech = tech_precursor_guardian
			progress = 0.20
		}
    }

	###ORACLE
	option = {
		trigger = {
			has_country_flag = project_oracle_selected
		}
		name = acot_precursor_databank.904.oracle
		remove_country_flag = project_oracle_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_science
		add_tech_progress = {
			tech = tech_precursor_science
			progress = 0.20
		}
    }

	###INITI
	option = {
		trigger = {
			has_country_flag = project_initi_selected
		}
		name = acot_precursor_databank.904.initi
		remove_country_flag = project_initi_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_construcor
		add_tech_progress = {
			tech = tech_precursor_construcor
			progress = 0.20
		}
    }

	###EMISSARY
	option = {
		trigger = {
			has_country_flag = project_emiss_selected
		}
		name = acot_precursor_databank.904.emiss
		remove_country_flag = project_emiss_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_colonizer
		add_tech_progress = {
			tech = tech_precursor_colonizer
			progress = 0.20
		}
    }

	###SHAPER
	option = {
		trigger = {
			has_country_flag = project_shaper_selected
		}
		name = acot_precursor_databank.904.shaper
		remove_country_flag = project_shaper_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_world_shaper
		add_tech_progress = {
			tech = tech_precursor_world_shaper
			progress = 0.20
		}
    }

	###HYPERION
	option = {
		trigger = {
			has_country_flag = project_titan_selected
		}
		name = acot_precursor_databank.904.titan
		remove_country_flag = project_titan_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_titan
		add_tech_progress = {
			tech = tech_precursor_titan
			progress = 0.20
		}
    }

	###CARRIER
	option = {
		trigger = {
			has_country_flag = project_pac_selected
		}
		name = acot_precursor_databank.904.pac
		remove_country_flag = project_pac_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_assault_carrier
		add_tech_progress = {
			tech = tech_precursor_assault_carrier
			progress = 0.20
		}
    }

	###SENTINEL
	option = {
		trigger = {
			has_country_flag = project_sentinel_selected
		}
		name = acot_precursor_databank.904.sentinel
		remove_country_flag = project_sentinel_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_sentinel
		add_tech_progress = {
			tech = tech_precursor_sentinel
			progress = 0.20
		}
    }

	###CITADEL
	option = {
		trigger = {
			has_country_flag = project_citadel_selected
		}
		name = acot_precursor_databank.904.citadel
		remove_country_flag = project_citadel_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_citadel
		add_tech_progress = {
			tech = tech_precursor_citadel
			progress = 0.20
		}
    }

	###ENIGMALITH
	option = {
		trigger = {
			has_country_flag = project_enigmalith_selected
		}
		name = acot_precursor_databank.904.enigmalith
		remove_country_flag = project_enigmalith_selected
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
		add_research_option = tech_precursor_enigmalith
		add_tech_progress = {
			tech = tech_precursor_enigmalith
			progress = 0.20
		}
    }
}


# CHECK IF ALREADY HAVE TECHS THEN CANCEL PROJECT
country_event = {
	id = acot_precursor_databank.905
	title = acot_precursor_databank.905.name
	desc = acot_precursor_databank.905.desc
	picture = GFX_evt_matter_decompressor
	show_sound = event_completed
	is_triggered_only = yes

	trigger = {
		OR = {
			AND = {
				has_country_flag = project_escort_selected
				last_increased_tech = tech_precursor_escort
			}
			AND = {
				has_country_flag = project_bc_selected
				last_increased_tech = tech_precursor_bc
			}
			AND = {
				has_country_flag = project_guard_selected
				last_increased_tech = tech_precursor_guardian
			}
			AND = {
				has_country_flag = project_initi_selected
				last_increased_tech = tech_precursor_construcor
			}
			AND = {
				has_country_flag = project_oracle_selected
				last_increased_tech = tech_precursor_science
			}
			AND = {
				has_country_flag = project_shaper_selected
				last_increased_tech = tech_precursor_world_shaper
			}
			AND = {
				has_country_flag = project_emiss_selected
				last_increased_tech = tech_precursor_colonizer
			}
			AND = {
				has_country_flag = project_sentinel_selected
				last_increased_tech = tech_precursor_sentinel
			}
			AND = {
				has_country_flag = project_pac_selected
				last_increased_tech = tech_precursor_assault_carrier
			}
			AND = {
				has_country_flag = project_titan_selected
				last_increased_tech = tech_precursor_titan
			}
			AND = {
				has_country_flag = project_enigmalith_selected
				last_increased_tech = tech_precursor_enigmalith
			}
			AND = {
				has_country_flag = project_citadel_selected
				last_increased_tech = tech_precursor_citadel
			}

		}
	}
	
	immediate = {
		if = { limit = { has_country_flag = project_escort_selected } remove_country_flag = project_escort_selected }
		if = { limit = { has_country_flag = project_bc_selected } remove_country_flag = project_bc_selected }
		if = { limit = { has_country_flag = project_guard_selected } remove_country_flag = project_guard_selected }
		if = { limit = { has_country_flag = project_sentinel_selected } remove_country_flag = project_sentinel_selected }
		if = { limit = { has_country_flag = project_titan_selected } remove_country_flag = project_titan_selected }
		if = { limit = { has_country_flag = project_pac_selected } remove_country_flag = project_pac_selected }
		if = { limit = { has_country_flag = project_enigmalith_selected } remove_country_flag = project_enigmalith_selected }
		if = { limit = { has_country_flag = project_citadel_selected } remove_country_flag = project_citadel_selected }
		if = { limit = { has_country_flag = project_initi_selected } remove_country_flag = project_initi_selected }
		if = { limit = { has_country_flag = project_oracle_selected } remove_country_flag = project_oracle_selected }
		if = { limit = { has_country_flag = project_emiss_selected } remove_country_flag = project_emiss_selected }
		if = { limit = { has_country_flag = project_shaper_selected } remove_country_flag = project_shaper_selected }
		if = {
			limit = { has_special_project = RESEARCH_PRECURSOR_ATTEMPT }
			abort_special_project = { type = RESEARCH_PRECURSOR_ATTEMPT }
		}
		if = {
			limit = { has_special_project = RESEARCH_PRECURSOR_ATTEMPT_HIGH }
			abort_special_project = { type = RESEARCH_PRECURSOR_ATTEMPT_HIGH }
		}
		if = {
			limit = { has_special_project = RESEARCH_PRECURSOR_ATTEMPT_EXTREME }
			abort_special_project = { type = RESEARCH_PRECURSOR_ATTEMPT_EXTREME }
		}
		end_event_chain = acot_precursor_design_chain
		remove_country_flag = precuursor_design_project_active
	}
	
    option = {
		name = acot_precursor_databank.905.a	
		default_hide_option = yes
	}
}

# CHECK IF ALREADY HAVE TECHS THEN CANCEL PROJECT
country_event = {
	id = acot_precursor_databank.906
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		last_increased_tech = tech_precursor_science
	}
	
	immediate = {
		add_global_ship_design = NAME_ACOT_PRECURSOR_SCIENCE
	}
	
}