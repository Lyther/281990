XSKIPER_CAFE_UPGRADE_BASIC = {
	potential = { }
	allow = {
		from = {
			resource_stockpile_compare = {
				resource = unity
				value > 2000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_BASIC
			}
			resource_stockpile_compare = {
				resource = energy
				value > 5000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_BASIC
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_BASIC_fail_no_construction
			event_target:XSKIPER_CAFE_country = {
				check_variable = { which = XSKIPER_CAFE_construction_stockpile value >= XSKIPER_CAFE_LEVEL_BASIC_NEED }
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_BASIC_fail_no_rank
			event_target:XSKIPER_CAFE_country = {
				check_variable = {
					which = XSKIPER_CAFE_LEADER_TOTAL_RANK
					value > XSKIPER_CAFE_LEVEL_BASIC_rank_need
				}
			}
		}
		custom_tooltip = XSKIPER_CAFE_UPGRADE_BASIC
	}
	effect = {
		custom_tooltip = XSKIPER_CAFE_UPGRADE_BASIC
		from = {
			add_resource = {
				unity = -2000
				energy = -5000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_BASIC
			}
		}
		tooltip = {
			event_target:XSKIPER_CAFE_country = {
				add_resource = {
					engineering_research = -1
					mult = XSKIPER_CAFE_LEVEL_BASIC_NEED
				}
			}
		}
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				subtract_variable = { which = XSKIPER_CAFE_construction_stockpile value = XSKIPER_CAFE_LEVEL_BASIC_NEED }
				change_variable = { which = XSKIPER_CAFE_LEVEL_BASIC value = 1 }
				change_variable = { which = XSKIPER_CAFE_LEVEL_BASIC_rank_need value = 10 }
				change_variable = { which = XSKIPER_CAFE_MAX_LEADER value = 5 }
				change_variable = { which = XSKIPER_CAFE_LEVEL_BASIC_NEED value = 2000 }
			}
		}
	}
}
XSKIPER_CAFE_UPGRADE_REST = {
	potential = { }
	allow = {
		from = {
			resource_stockpile_compare = {
				resource = consumer_goods
				value > 2000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_REST
			}
			resource_stockpile_compare = {
				resource = energy
				value > 3000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_REST
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_REST_fail_no_construction
			event_target:XSKIPER_CAFE_country = {
				check_variable = { which = XSKIPER_CAFE_construction_stockpile value >= XSKIPER_CAFE_LEVEL_REST_NEED }
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_REST_fail_no_BASIC
			event_target:XSKIPER_CAFE_country = {
				check_variable = {
					which = XSKIPER_CAFE_LEVEL_BASIC
					value > XSKIPER_CAFE_LEVEL_REST
				}
			}
		}
		custom_tooltip = XSKIPER_CAFE_UPGRADE_REST
	}
	effect = {
		custom_tooltip = XSKIPER_CAFE_UPGRADE_REST
		from = {
			add_resource = {
				consumer_goods = -2000
				energy = -3000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_REST
			}
		}
		tooltip = {
			event_target:XSKIPER_CAFE_country = {
				add_resource = {
					engineering_research = -1
					mult = XSKIPER_CAFE_LEVEL_REST_NEED
				}
			}
		}
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				subtract_variable = { which = XSKIPER_CAFE_construction_stockpile value = XSKIPER_CAFE_LEVEL_REST_NEED }
				change_variable = { which = XSKIPER_CAFE_LEVEL_REST value = 1 }
				change_variable = { which = XSKIPER_CAFE_LEADER_REST_SPEED value = 0.1 }
				change_variable = { which = XSKIPER_CAFE_LEVEL_REST_NEED value = 2000 }
			}
		}
	}
}
XSKIPER_CAFE_UPGRADE_TECH = {
	potential = { }
	allow = {
		from = {
			resource_stockpile_compare = {
				resource = alloys
				value > 1000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_TECH
			}
			resource_stockpile_compare = {
				resource = minerals
				value > 3000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_TECH
			}
			resource_stockpile_compare = {
				resource = minor_artifacts
				value > 10
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_TECH
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_TECH_fail_no_construction
			event_target:XSKIPER_CAFE_country = {
				check_variable = { which = XSKIPER_CAFE_construction_stockpile value >= XSKIPER_CAFE_LEVEL_TECH_NEED }
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_REST_fail_no_BASIC
			event_target:XSKIPER_CAFE_country = {
				check_variable = {
					which = XSKIPER_CAFE_LEVEL_BASIC
					value > XSKIPER_CAFE_LEVEL_TECH
				}
			}
		}
		custom_tooltip = XSKIPER_CAFE_UPGRADE_TECH
	}
	effect = {
		custom_tooltip = XSKIPER_CAFE_UPGRADE_TECH
		from = {
			add_resource = {
				alloys = -1000
				minerals = -3000
				minor_artifacts = -10
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_TECH
			}
		}
		tooltip = {
			event_target:XSKIPER_CAFE_country = {
				add_resource = {
					engineering_research = -1
					mult = XSKIPER_CAFE_LEVEL_TECH_NEED
				}
			}
		}
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				subtract_variable = { which = XSKIPER_CAFE_construction_stockpile value = XSKIPER_CAFE_LEVEL_TECH_NEED }
				change_variable = { which = XSKIPER_CAFE_LEVEL_TECH value = 1 }
				change_variable = { which = XSKIPER_CAFE_SUM_2_max value = 100 }
				change_variable = { which = XSKIPER_CAFE_LEVEL_TECH_NEED value = 2000 }
			}
		}
	}
}
XSKIPER_CAFE_UPGRADE_CONSTRUCTION = {
	potential = { }
	allow = {
		from = {
			resource_stockpile_compare = {
				resource = alloys
				value > 1500
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_CONSTRUCTION
			}
			resource_stockpile_compare = {
				resource = minerals
				value > 2500
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_CONSTRUCTION
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_CONSTRUCTION_fail_no_construction
			event_target:XSKIPER_CAFE_country = {
				check_variable = { which = XSKIPER_CAFE_construction_stockpile value >= XSKIPER_CAFE_LEVEL_CONSTRUCTION_NEED }
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_REST_fail_no_BASIC
			event_target:XSKIPER_CAFE_country = {
				check_variable = {
					which = XSKIPER_CAFE_LEVEL_BASIC
					value > XSKIPER_CAFE_LEVEL_CONSTRUCTION
				}
			}
		}
		custom_tooltip = XSKIPER_CAFE_UPGRADE_CONSTRUCTION
	}
	effect = {
		custom_tooltip = XSKIPER_CAFE_UPGRADE_CONSTRUCTION
		from = {
			add_resource = {
				alloys = -1500
				minerals = -2500
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_CONSTRUCTION
			}
		}
		tooltip = {
			event_target:XSKIPER_CAFE_country = {
				add_resource = {
					engineering_research = -1
					mult = XSKIPER_CAFE_LEVEL_CONSTRUCTION_NEED
				}
			}
		}
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				subtract_variable = { which = XSKIPER_CAFE_construction_stockpile value = XSKIPER_CAFE_LEVEL_CONSTRUCTION_NEED }
				change_variable = { which = XSKIPER_CAFE_LEVEL_CONSTRUCTION value = 1 }
				change_variable = { which = XSKIPER_CAFE_SUM_3_max value = 100 }
				change_variable = { which = XSKIPER_CAFE_LEVEL_CONSTRUCTION_NEED value = 2000 }
			}
		}
	}
}
XSKIPER_CAFE_UPGRADE_COFFEE = {
	potential = { }
	allow = {
		from = {
			resource_stockpile_compare = {
				resource = food
				value > 3000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_COFFEE
			}
			resource_stockpile_compare = {
				resource = volatile_motes
				value > 100
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_COFFEE
			}
			resource_stockpile_compare = {
				resource = exotic_gases
				value > 100
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_COFFEE
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_COFFEE_fail_no_construction
			event_target:XSKIPER_CAFE_country = {
				check_variable = { which = XSKIPER_CAFE_construction_stockpile value >= XSKIPER_CAFE_LEVEL_COFFEE_NEED }
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_REST_fail_no_BASIC
			event_target:XSKIPER_CAFE_country = {
				check_variable = {
					which = XSKIPER_CAFE_LEVEL_BASIC
					value > XSKIPER_CAFE_LEVEL_COFFEE
				}
			}
		}
		custom_tooltip = XSKIPER_CAFE_UPGRADE_COFFEE
	}
	effect = {
		custom_tooltip = XSKIPER_CAFE_UPGRADE_COFFEE
		from = {
			add_resource = {
				food = -3000
				volatile_motes = -100
				exotic_gases = -100
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_COFFEE
			}
		}
		tooltip = {
			event_target:XSKIPER_CAFE_country = {
				add_resource = {
					engineering_research = -1
					mult = XSKIPER_CAFE_LEVEL_COFFEE_NEED
				}
			}
		}
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				subtract_variable = { which = XSKIPER_CAFE_construction_stockpile value = XSKIPER_CAFE_LEVEL_COFFEE_NEED }
				change_variable = { which = XSKIPER_CAFE_LEVEL_COFFEE value = 1 }
				change_variable = { which = XSKIPER_CAFE_effective_con value = 0.1 }
				change_variable = { which = XSKIPER_CAFE_LEVEL_COFFEE_NEED value = 2000 }
			}
		}
	}
}
XSKIPER_CAFE_UPGRADE_PROPAGANDA = {
	potential = { }
	allow = {
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_DP_need_unlock
			has_global_flag = XSKIPER_DP_5_UNLOCKED
		}
		from = {
			resource_stockpile_compare = {
				resource = alloys
				value > 1000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_PROPAGANDA
			}
			resource_stockpile_compare = {
				resource = consumer_goods
				value > 2000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_PROPAGANDA
			}
			resource_stockpile_compare = {
				resource = influence
				value > 90
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_PROPAGANDA
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_PROPAGANDA_fail_no_construction
			event_target:XSKIPER_CAFE_country = {
				check_variable = { which = XSKIPER_CAFE_construction_stockpile value >= XSKIPER_CAFE_LEVEL_PROPAGANDA_NEED }
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_REST_fail_no_BASIC
			event_target:XSKIPER_CAFE_country = {
				check_variable = {
					which = XSKIPER_CAFE_LEVEL_BASIC
					value > XSKIPER_CAFE_LEVEL_PROPAGANDA
				}
			}
		}
		custom_tooltip = XSKIPER_CAFE_UPGRADE_PROPAGANDA
	}
	effect = {
		custom_tooltip = XSKIPER_CAFE_UPGRADE_PROPAGANDA
		from = {
			add_resource = {
				alloys = -1000
				consumer_goods = -2000
				influence = -90
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_PROPAGANDA
			}
		}
		tooltip = {
			event_target:XSKIPER_CAFE_country = {
				add_resource = {
					engineering_research = -1
					mult = XSKIPER_CAFE_LEVEL_PROPAGANDA_NEED
				}
			}
		}
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				subtract_variable = { which = XSKIPER_CAFE_construction_stockpile value = XSKIPER_CAFE_LEVEL_PROPAGANDA_NEED }
				change_variable = { which = XSKIPER_CAFE_LEVEL_PROPAGANDA value = 1 }
				change_variable = { which = XSKIPER_CAFE_SUM_5_max value = 20 }
				change_variable = { which = XSKIPER_CAFE_LEVEL_PROPAGANDA_NEED value = 2000 }
			}
		}
	}
}
XSKIPER_CAFE_UPGRADE_INTEL = {
	potential = { }
	allow = {
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_DP_need_unlock
			has_global_flag = XSKIPER_DP_6_UNLOCKED
		}
		from = {
			resource_stockpile_compare = {
				resource = alloys
				value > 1500
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_INTEL
			}
			resource_stockpile_compare = {
				resource = unity
				value > 1000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_INTEL
			}
			resource_stockpile_compare = {
				resource = influence
				value > 90
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_INTEL
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_INTEL_fail_no_construction
			event_target:XSKIPER_CAFE_country = {
				check_variable = { which = XSKIPER_CAFE_construction_stockpile value >= XSKIPER_CAFE_LEVEL_INTEL_NEED }
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_REST_fail_no_BASIC
			event_target:XSKIPER_CAFE_country = {
				check_variable = {
					which = XSKIPER_CAFE_LEVEL_BASIC
					value > XSKIPER_CAFE_LEVEL_INTEL
				}
			}
		}
		custom_tooltip = XSKIPER_CAFE_UPGRADE_INTEL
	}
	effect = {
		custom_tooltip = XSKIPER_CAFE_UPGRADE_INTEL
		from = {
			add_resource = {
				alloys = -1500
				unity = -1000
				influence = -90
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_INTEL
			}
		}
		tooltip = {
			event_target:XSKIPER_CAFE_country = {
				add_resource = {
					engineering_research = -1
					mult = XSKIPER_CAFE_LEVEL_INTEL_NEED
				}
			}
		}
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				subtract_variable = { which = XSKIPER_CAFE_construction_stockpile value = XSKIPER_CAFE_LEVEL_INTEL_NEED }
				change_variable = { which = XSKIPER_CAFE_LEVEL_INTEL value = 1 }
				change_variable = { which = XSKIPER_CAFE_SUM_6_max value = 10 }
				change_variable = { which = XSKIPER_CAFE_LEVEL_INTEL_NEED value = 2000 }
			}
		}
	}
}
XSKIPER_CAFE_UPGRADE_TRAINING = {
	potential = { }
	allow = {
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_DP_need_unlock
			has_global_flag = XSKIPER_DP_7_UNLOCKED
		}
		from = {
			resource_stockpile_compare = {
				resource = alloys
				value > 2000
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_TRAINING
			}
			resource_stockpile_compare = {
				resource = rare_crystals
				value > 200
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_TRAINING
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_TRAINING_fail_no_construction
			event_target:XSKIPER_CAFE_country = {
				check_variable = { which = XSKIPER_CAFE_construction_stockpile value >= XSKIPER_CAFE_LEVEL_TRAINING_NEED }
			}
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_UPGRADE_REST_fail_no_BASIC
			event_target:XSKIPER_CAFE_country = {
				check_variable = {
					which = XSKIPER_CAFE_LEVEL_BASIC
					value > XSKIPER_CAFE_LEVEL_TRAINING
				}
			}
		}
		custom_tooltip = XSKIPER_CAFE_UPGRADE_TRAINING
	}
	effect = {
		custom_tooltip = XSKIPER_CAFE_UPGRADE_TRAINING
		from = {
			add_resource = {
				alloys = -2000
				rare_crystals = -200
				mult = event_target:XSKIPER_CAFE_country.XSKIPER_CAFE_LEVEL_TRAINING
			}
		}
		tooltip = {
			event_target:XSKIPER_CAFE_country = {
				add_resource = {
					engineering_research = -1
					mult = XSKIPER_CAFE_LEVEL_TRAINING_NEED
				}
			}
		}
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				subtract_variable = { which = XSKIPER_CAFE_construction_stockpile value = XSKIPER_CAFE_LEVEL_TRAINING_NEED }
				change_variable = { which = XSKIPER_CAFE_LEVEL_TRAINING value = 1 }
				change_variable = { which = XSKIPER_CAFE_LEVEL_TRAINING_NEED value = 2000 }
				change_variable = { which = XSKIPER_CAFE_LEADER_EXP_grow_speed_training value = 0.2 }
			}
		}
	}
}
##################################################################################
#以下为领袖加点
##################################################################################
XSKIPER_CAFE_LEADER_UP_fitness = {
	potential = { }
	allow = {
		hidden_trigger = {
			event_target:XSKIPER_UPGRADE_LEADER = { check_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value > 0 } }
		}
	}
	effect = {
		hidden_effect = {
			event_target:XSKIPER_UPGRADE_LEADER = {
				change_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value = -1 }
				change_variable = { which = XSKIPER_CAFE_LEADER_level_fitness value = 1 }
			}
		}
	}
}
XSKIPER_CAFE_LEADER_UP_tech = {
	potential = { }
	allow = {
		hidden_trigger = {
			event_target:XSKIPER_UPGRADE_LEADER = { check_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value > 0 } }
		}
	}
	effect = {
		hidden_effect = {
			event_target:XSKIPER_UPGRADE_LEADER = {
				change_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value = -1 }
				change_variable = { which = XSKIPER_CAFE_LEADER_level_tech value = 1 }
			}
		}
	}
}
XSKIPER_CAFE_LEADER_UP_com = {
	potential = { }
	allow = {
		hidden_trigger = {
			event_target:XSKIPER_UPGRADE_LEADER = { check_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value > 0 } }
		}
	}
	effect = {
		hidden_effect = {
			event_target:XSKIPER_UPGRADE_LEADER = {
				change_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value = -1 }
				change_variable = { which = XSKIPER_CAFE_LEADER_level_com value = 1 }
			}
		}
	}
}
XSKIPER_CAFE_LEADER_UP_mental = {
	potential = { }
	allow = {
		hidden_trigger = {
			event_target:XSKIPER_UPGRADE_LEADER = { check_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value > 0 } }
		}
	}
	effect = {
		hidden_effect = {
			event_target:XSKIPER_UPGRADE_LEADER = {
				change_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value = -1 }
				change_variable = { which = XSKIPER_CAFE_LEADER_level_mental value = 1 }
			}
		}
	}
}
XSKIPER_CAFE_LEADER_UP_inspiration = {
	potential = { }
	allow = {
		hidden_trigger = {
			event_target:XSKIPER_UPGRADE_LEADER = { check_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value > 0 } }
		}
	}
	effect = {
		hidden_effect = {
			event_target:XSKIPER_UPGRADE_LEADER = {
				change_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value = -1 }
				change_variable = { which = XSKIPER_CAFE_LEADER_level_inspiration value = 1 }
			}
		}
	}
}
XSKIPER_CAFE_LEADER_UP_appearance = {
	potential = { }
	allow = {
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_function_need_unlock
			has_global_flag = XSKIPER_LU_1_UNLOCKED
		}
		hidden_trigger = {
			event_target:XSKIPER_UPGRADE_LEADER = { check_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value > 0 } }
		}
	}
	effect = {
		hidden_effect = {
			event_target:XSKIPER_UPGRADE_LEADER = {
				change_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value = -1 }
				change_variable = { which = XSKIPER_CAFE_LEADER_level_appearance value = 1 }
			}
		}
	}
}
XSKIPER_CAFE_LEADER_UP_rank = {
	potential = { }
	allow = {
		custom_tooltip = XSKIPER_CAFE_LEADER_UP_rank
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_function_need_unlock
			has_global_flag = XSKIPER_LU_2_UNLOCKED
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_LEADER_UP_rank_need_point
			event_target:XSKIPER_UPGRADE_LEADER = { check_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value >= XSKIPER_CAFE_LEADER_RANK_need } }
		}
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_LEADER_UP_rank_max
			event_target:XSKIPER_UPGRADE_LEADER = { check_variable = { which = XSKIPER_CAFE_LEADER_RANK value < 5 } }
		}
	}
	effect = {
		custom_tooltip = XSKIPER_CAFE_LEADER_UP_rank
		hidden_effect = {
			event_target:XSKIPER_UPGRADE_LEADER = {
				subtract_variable = { which = XSKIPER_CAFE_LEADER_SKILL_POINT value = XSKIPER_CAFE_LEADER_RANK_need }
				change_variable = { which = XSKIPER_CAFE_LEADER_RANK value = 1 }
				change_variable = { which = XSKIPER_CAFE_LEADER_RANK_need value = 10 }
			}
		}
	}
}
##################################################################################
#以下为“科技”，消耗技术部生产的科研点可以获得，解锁更多的咖啡馆设施，以及咖啡，还有buff
##################################################################################
#科研点科技
XSKIPER_CAFE_REPEAT_TECHv = {
	allow = { } potential = { } effect = { }
}
XSKIPER_CAFE_REPEAT_TECH_1 = {
	allow = {
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_25000_PHY
			event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 25000 } }
		}
		hidden_trigger = {
			event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 30 } }
		}
		if = {
			limit = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 30 } } }
			custom_tooltip = XSKIPER_CAFE_REPEAT_TECH_1
		}
		else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
	}
	potential = { }
	effect = {
		custom_tooltip = XSKIPER_CAFE_REPEAT_TECH_1
		tooltip = { event_target:XSKIPER_CAFE_country = { add_resource = { physics_research = -25000 } } }
		from = { add_monthly_resource_mult = { resource = physics_research value = 1 max = 70000 min = 70000 } }
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				change_variable = { which = XSKIPER_CAFE_physics_research_stockpile value = -25000 }
			}
		}
	}
}
XSKIPER_CAFE_REPEAT_TECH_2 = {
	allow = {
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_25000_PHY
			event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 25000 } }
		}
		hidden_trigger = {
			event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 30 } }
		}
		if = {
			limit = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 30 } } }
			custom_tooltip = XSKIPER_CAFE_REPEAT_TECH_2
		}
		else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
	}
	potential = { }
	effect = {
		custom_tooltip = XSKIPER_CAFE_REPEAT_TECH_2
		tooltip = { event_target:XSKIPER_CAFE_country = { add_resource = { physics_research = -25000 } } }
		from = { add_monthly_resource_mult = { resource = society_research value = 1 max = 70000 min = 70000 } }
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				change_variable = { which = XSKIPER_CAFE_physics_research_stockpile value = -25000 }
			}
		}
	}
}
XSKIPER_CAFE_REPEAT_TECH_3 = {
	allow = {
		custom_tooltip = {
			fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_25000_PHY
			event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 25000 } }
		}
		hidden_trigger = {
			event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 30 } }
		}
		if = {
			limit = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 30 } } }
			custom_tooltip = XSKIPER_CAFE_REPEAT_TECH_3
		}
		else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
	}
	potential = { }
	effect = {
		custom_tooltip = XSKIPER_CAFE_REPEAT_TECH_3
		tooltip = { event_target:XSKIPER_CAFE_country = { add_resource = { physics_research = -25000 } } }
		from = { add_monthly_resource_mult = { resource = engineering_research value = 1 max = 70000 min = 70000 } }
		hidden_effect = {
			event_target:XSKIPER_CAFE_country = {
				change_variable = { which = XSKIPER_CAFE_physics_research_stockpile value = -25000 }
			}
		}
	}
}
#解锁咖啡槽
	XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1v = {
		allow = { }
		potential = { }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCKED
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1_effect
		}
	}
	XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_8000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 8000 } }
			}
			hidden_trigger = {
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 10 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 10 } } }
				custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1
				custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1_desc
				custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = {
			event_target:XSKIPER_CAFE_country = {
				check_variable = {
					which = XSKIPER_CAFE_max_coffee_slots
					value <= 1
				}
			}
		}
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_1_effect
			tooltip = { event_target:XSKIPER_CAFE_country = { add_resource = { physics_research = -8000 } } }
			hidden_effect = {
				event_target:XSKIPER_CAFE_country = {
					change_variable = { which = XSKIPER_CAFE_physics_research_stockpile value = -8000 }
					change_variable = { which = XSKIPER_CAFE_max_coffee_slots value = 1 }	
				}
			}
		}
	}
	XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2v = {
		allow = { }
		potential = { }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCKED
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2_effect
		}
	}
	XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_15000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 15000 } }
			}
			hidden_trigger = {
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 20 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 20 } } }
				custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2
				custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2_desc
				custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = {
			event_target:XSKIPER_CAFE_country = {
				check_variable = {
					which = XSKIPER_CAFE_max_coffee_slots
					value <= 2
				}
			}
		}
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_COFFEE_SLOT_TECH_2_effect
			tooltip = { event_target:XSKIPER_CAFE_country = { add_resource = { physics_research = -15000 } } }
			hidden_effect = {
				event_target:XSKIPER_CAFE_country = {
					change_variable = { which = XSKIPER_CAFE_physics_research_stockpile value = -15000 }
					change_variable = { which = XSKIPER_CAFE_max_coffee_slots value = 1 }	
				}
			}
		}
	}
#解锁部门
	XSKIPER_CAFE_UNLOCK_DP_TECH_1v = {
		allow = { }
		potential = { }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCKED
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_1
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_1_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_1_effect
		}
	}
	XSKIPER_CAFE_UNLOCK_DP_TECH_1 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_5000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 5000 } }
			}
			hidden_trigger = {
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 5 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 5 } } }
				custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_1
				custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_1_desc
				custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_1_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_DP_5_UNLOCKED } }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_1
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_1_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_1_effect
			tooltip = { event_target:XSKIPER_CAFE_country = { add_resource = { physics_research = -5000 } } }
			hidden_effect = {
				set_global_flag = XSKIPER_DP_5_UNLOCKED
				event_target:XSKIPER_CAFE_country = {
					change_variable = { which = XSKIPER_CAFE_physics_research_stockpile value = -5000 }
				}
			}
		}
	}
	XSKIPER_CAFE_UNLOCK_DP_TECH_2v = {
		allow = { }
		potential = { }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCKED
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_2
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_2_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_2_effect
		}
	}
	XSKIPER_CAFE_UNLOCK_DP_TECH_2 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_12000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 12000 } }
			}
			hidden_trigger = {
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 12 } }
				has_global_flag = XSKIPER_DP_5_UNLOCKED
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { has_global_flag = XSKIPER_DP_5_UNLOCKED event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 12 } } }
				custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_2
				custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_2_desc
				custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_2_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_DP_6_UNLOCKED } }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_2
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_2_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_2_effect
			tooltip = { event_target:XSKIPER_CAFE_country = { add_resource = { physics_research = -12000 } } }
			hidden_effect = {
				set_global_flag = XSKIPER_DP_6_UNLOCKED
				event_target:XSKIPER_CAFE_country = {
					change_variable = { which = XSKIPER_CAFE_physics_research_stockpile value = -12000 }
				}
			}
		}
	}
	XSKIPER_CAFE_UNLOCK_DP_TECH_3v = {
		allow = { }
		potential = { }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCKED
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_3
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_3_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_3_effect
		}
	}
	XSKIPER_CAFE_UNLOCK_DP_TECH_3 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_18000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 18000 } }
			}
			hidden_trigger = {
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 17 } }
				has_global_flag = XSKIPER_DP_6_UNLOCKED 
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { has_global_flag = XSKIPER_DP_6_UNLOCKED event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 17 } } }
				custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_3
				custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_3_desc
				custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_3_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_DP_7_UNLOCKED } }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_3
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_3_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_DP_TECH_3_effect
			tooltip = { event_target:XSKIPER_CAFE_country = { add_resource = { physics_research = -18000 } } }
			hidden_effect = {
				set_global_flag = XSKIPER_DP_7_UNLOCKED
				event_target:XSKIPER_CAFE_country = {
					change_variable = { which = XSKIPER_CAFE_physics_research_stockpile value = -18000 }
				}
			}
		}
	}
#解锁强化功能
	XSKIPER_CAFE_UNLOCK_LU_TECH_1v = {
		allow = { }
		potential = { }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCKED
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_1
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_1_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_1_effect
		}
	}
	XSKIPER_CAFE_UNLOCK_LU_TECH_1 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_3000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 3000 } }
			}
			hidden_trigger = {
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 3 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 3 } } }
				custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_1
				custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_1_desc
				custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_1_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_LU_1_UNLOCKED } }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_1
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_1_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_1_effect
			tooltip = { event_target:XSKIPER_CAFE_country = { add_resource = { physics_research = -3000 } } }
			hidden_effect = {
				set_global_flag = XSKIPER_LU_1_UNLOCKED
				event_target:XSKIPER_CAFE_country = {
					change_variable = { which = XSKIPER_CAFE_physics_research_stockpile value = -3000 }
				}
			}
		}
	}
	XSKIPER_CAFE_UNLOCK_LU_TECH_2v = {
		allow = { }
		potential = { }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCKED
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_2
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_2_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_2_effect
		}
	}
	XSKIPER_CAFE_UNLOCK_LU_TECH_2 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_12000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 12000 } }
			}
			hidden_trigger = {
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 9 } }
				has_global_flag = XSKIPER_LU_1_UNLOCKED
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { has_global_flag = XSKIPER_LU_1_UNLOCKED event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_TECH_UNLOCKED value >= 9 } } }
				custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_2
				custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_2_desc
				custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_2_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_LU_2_UNLOCKED } }
		effect = {
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_2
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_2_desc
			custom_tooltip = XSKIPER_CAFE_UNLOCK_LU_TECH_2_effect
			tooltip = { event_target:XSKIPER_CAFE_country = { add_resource = { physics_research = -12000 } } }
			hidden_effect = {
				set_global_flag = XSKIPER_LU_2_UNLOCKED
				event_target:XSKIPER_CAFE_country = {
					change_variable = { which = XSKIPER_CAFE_physics_research_stockpile value = -12000 }
				}
			}
		}
	}
#咖啡解锁科技
	XSKIPER_CAFE_COFFEE_UNLOCK_3v = {
		allow = { }
		potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 3 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_3 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_1000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 1000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_COFFEE_3
			custom_tooltip = XSKIPER_COFFEE_3_desc
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_COFFEE_3_unlocked
			}
		}
		effect = {
			XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 3 COST = -1000 }
		}
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_4v = {
		allow = { }
		potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 4 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_4 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_1000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 1000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_COFFEE_4
			custom_tooltip = XSKIPER_COFFEE_4_desc
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_COFFEE_4_unlocked
			}
		}
		effect = {
			XSKIPER_CAFE_COFFEE_TECH_EFFECT = {
				COUNT = 4
				COST = -1000
			}
		}
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_5v = {
		allow = { }
		potential = { }
		effect = {
			XSKIPER_CAFE_COFFEE_TECH_EFFECTv = {
				COUNT = 5
			}
		}
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_5 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_1500_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 1500 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 3 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 3 } } } }
				custom_tooltip = XSKIPER_COFFEE_5
				custom_tooltip = XSKIPER_COFFEE_5_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_COFFEE_5_unlocked
			}
		}
		effect = {
			XSKIPER_CAFE_COFFEE_TECH_EFFECT = {
				COUNT = 5
				COST = -1500
			}
		}
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_6v = {
		allow = { }
		potential = { }
		effect = {
			XSKIPER_CAFE_COFFEE_TECH_EFFECTv = {
				COUNT = 6
			}
		}
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_6 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_1500_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 1500 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 3 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 3 } } } }
				custom_tooltip = XSKIPER_COFFEE_6
				custom_tooltip = XSKIPER_COFFEE_6_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_COFFEE_6_unlocked
			}
		}
		effect = {
			XSKIPER_CAFE_COFFEE_TECH_EFFECT = {
				COUNT = 6
				COST = -1500
			}
		}
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_7v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 7 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_7 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_2000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 2000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 4 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 4 } } } }
				custom_tooltip = XSKIPER_COFFEE_7
				custom_tooltip = XSKIPER_COFFEE_7_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_7_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 7 COST = -2000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_8v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 8 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_8 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_2500_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 2500 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 4 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 4 } } } }
				custom_tooltip = XSKIPER_COFFEE_8
				custom_tooltip = XSKIPER_COFFEE_8_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_8_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 8 COST = -2500 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_9v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 9 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_9 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_3000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 3000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 5 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 5 } } } }
				custom_tooltip = XSKIPER_COFFEE_9
				custom_tooltip = XSKIPER_COFFEE_9_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_9_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 9 COST = -3000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_10v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 10 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_10 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_4000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 4000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 5 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 5 } } } }
				custom_tooltip = XSKIPER_COFFEE_10
				custom_tooltip = XSKIPER_COFFEE_10_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_10_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 10 COST = -4000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_11v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 11 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_11 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_5000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 5000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 6 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 6 } } } }
				custom_tooltip = XSKIPER_COFFEE_11
				custom_tooltip = XSKIPER_COFFEE_11_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_11_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 11 COST = -5000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_12v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 12 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_12 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_6000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 6000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 6 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 6 } } } }
				custom_tooltip = XSKIPER_COFFEE_12
				custom_tooltip = XSKIPER_COFFEE_12_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_12_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 12 COST = -6000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_13v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 13 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_13 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_8000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 8000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 7 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 7 } } } }
				custom_tooltip = XSKIPER_COFFEE_13
				custom_tooltip = XSKIPER_COFFEE_13_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_13_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 13 COST = -8000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_14v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 14 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_14 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_10000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 10000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 7 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 7 } } } }
				custom_tooltip = XSKIPER_COFFEE_14
				custom_tooltip = XSKIPER_COFFEE_14_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_14_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 14 COST = -10000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_15v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 15 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_15 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_10000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 10000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 8 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 8 } } } }
				custom_tooltip = XSKIPER_COFFEE_15
				custom_tooltip = XSKIPER_COFFEE_15_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_15_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 15 COST = -10000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_16v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 16 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_16 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_12000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 12000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 8 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 8 } } } }
				custom_tooltip = XSKIPER_COFFEE_16
				custom_tooltip = XSKIPER_COFFEE_16_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_16_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 16 COST = -12000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_17v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 17 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_17 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_15000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 15000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 9 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 9 } } } }
				custom_tooltip = XSKIPER_COFFEE_17
				custom_tooltip = XSKIPER_COFFEE_17_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_17_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 17 COST = -15000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_18v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 18 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_18 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_18000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 18000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 10 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 10 } } } }
				custom_tooltip = XSKIPER_COFFEE_18
				custom_tooltip = XSKIPER_COFFEE_18_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_18_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 18 COST = -18000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_19v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 19 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_19 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_18000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 18000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 12 } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 12 } } } }
				custom_tooltip = XSKIPER_COFFEE_19
				custom_tooltip = XSKIPER_COFFEE_19_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_19_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 19 COST = -18000 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_20v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECTv = { COUNT = 20 } }
	}
	XSKIPER_CAFE_COFFEE_UNLOCK_20 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_25000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 25000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 19  } } }
			if = {
				limit = { hidden_trigger = { event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_COFFEE_UNLOCKED value >= 19  } } } }
				custom_tooltip = XSKIPER_COFFEE_20
				custom_tooltip = XSKIPER_COFFEE_20_desc
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { NOT = { has_global_flag = XSKIPER_COFFEE_20_unlocked } }
		effect = { XSKIPER_CAFE_COFFEE_TECH_EFFECT = { COUNT = 20 COST = -25000 } }
	}
#科研强化科技
	XSKIPER_CAFE_RESEARCH_TECH_1v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_RESEARCH_TECHv = { COUNT = 1 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_1 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_3000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 3000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_1
			custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_1_desc
			custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_1_effect
		}
		potential = { 
			NOT = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_1_unlocked }
		}
		effect = { XSKIPER_CAFE_RESEARCH_TECH = { COUNT = 1 BUFF = 5 COST = -3000 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_2v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_RESEARCH_TECHv = { COUNT = 2 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_2 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_5000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 5000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_1_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_1_unlocked } }
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_2
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_2_desc
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_2_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_2_unlocked
			}
		}
		effect = { XSKIPER_CAFE_RESEARCH_TECH = { COUNT = 2 BUFF = 7 COST = -5000 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_3v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_RESEARCH_TECHv = { COUNT = 3 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_3 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_8000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 8000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_2_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_2_unlocked } }
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_3
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_3_desc
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_3_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_3_unlocked
			}
		}
		effect = { XSKIPER_CAFE_RESEARCH_TECH = { COUNT = 3 BUFF = 5 COST = -8000 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_4v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_RESEARCH_TECHv = { COUNT = 4 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_4 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_12000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 12000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_3_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_3_unlocked } }
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_4
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_4_desc
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_4_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_4_unlocked
			}
		}
		effect = { XSKIPER_CAFE_RESEARCH_TECH = { COUNT = 4 BUFF = 7 COST = -12000 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_5v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_RESEARCH_TECHv = { COUNT = 5 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_5 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_15000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 15000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_4_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_4_unlocked } }
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_5
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_5_desc
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_5_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_5_unlocked
			}
		}
		effect = { XSKIPER_CAFE_RESEARCH_TECH = { COUNT = 5 BUFF = 5 COST = -15000 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_6v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_RESEARCH_TECHv = { COUNT = 6 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_6 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_21000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 21000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_5_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_5_unlocked } }
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_6
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_6_desc
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_6_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_6_unlocked
			}
		}
		effect = { XSKIPER_CAFE_RESEARCH_TECH = { COUNT = 6 BUFF = 7 COST = -21000 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_7v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_RESEARCH_TECHv = { COUNT = 7 } }
	}
	XSKIPER_CAFE_RESEARCH_TECH_7 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_25000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 25000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_6_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_6_unlocked } }
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_7
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_7_desc
				custom_tooltip = XSKIPER_CAFE_RESEARCH_TECH_7_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_RESEARCH_TECH_7_unlocked
			}
		}
		effect = { XSKIPER_CAFE_RESEARCH_TECH = { COUNT = 7 BUFF = 9 COST = -25000 } }
	}
#服务强化科技
	XSKIPER_CAFE_SERVICE_TECH_1v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_SERVICE_TECHv = { COUNT = 1 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_1 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_3000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 3000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_1
			custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_1_desc
			custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_1_effect
		}
		potential = { 
			NOT = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_1_unlocked }
		}
		effect = { XSKIPER_CAFE_SERVICE_TECH = { COUNT = 1 BUFF = 5 COST = -3000 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_2v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_SERVICE_TECHv = { COUNT = 2 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_2 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_5000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 5000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_1_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_1_unlocked } }
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_2
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_2_desc
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_2_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_SERVICE_TECH_2_unlocked
			}
		}
		effect = { XSKIPER_CAFE_SERVICE_TECH = { COUNT = 2 BUFF = 7 COST = -5000 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_3v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_SERVICE_TECHv = { COUNT = 3 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_3 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_8000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 8000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_2_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_2_unlocked } }
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_3
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_3_desc
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_3_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_SERVICE_TECH_3_unlocked
			}
		}
		effect = { XSKIPER_CAFE_SERVICE_TECH = { COUNT = 3 BUFF = 5 COST = -8000 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_4v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_SERVICE_TECHv = { COUNT = 4 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_4 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_12000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 12000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_3_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_3_unlocked } }
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_4
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_4_desc
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_4_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_SERVICE_TECH_4_unlocked
			}
		}
		effect = { XSKIPER_CAFE_SERVICE_TECH = { COUNT = 4 BUFF = 7 COST = -12000 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_5v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_SERVICE_TECHv = { COUNT = 5 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_5 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_15000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 15000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_4_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_4_unlocked } }
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_5
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_5_desc
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_5_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_SERVICE_TECH_5_unlocked
			}
		}
		effect = { XSKIPER_CAFE_SERVICE_TECH = { COUNT = 5 BUFF = 5 COST = -15000 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_6v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_SERVICE_TECHv = { COUNT = 6 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_6 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_21000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 21000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_5_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_5_unlocked } }
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_6
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_6_desc
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_6_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_SERVICE_TECH_6_unlocked
			}
		}
		effect = { XSKIPER_CAFE_SERVICE_TECH = { COUNT = 6 BUFF = 7 COST = -21000 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_7v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_SERVICE_TECHv = { COUNT = 7 } }
	}
	XSKIPER_CAFE_SERVICE_TECH_7 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_25000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 25000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_6_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_SERVICE_TECH_6_unlocked } }
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_7
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_7_desc
				custom_tooltip = XSKIPER_CAFE_SERVICE_TECH_7_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_SERVICE_TECH_7_unlocked
			}
		}
		effect = { XSKIPER_CAFE_SERVICE_TECH = { COUNT = 7 BUFF = 9 COST = -25000 } }
	}
#工程强化科技
	XSKIPER_CAFE_CONSTRUCTION_TECH_1v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECHv = { COUNT = 1 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_1 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_3000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 3000 } }
			}
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_1
			custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_1_desc
			custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_1_effect
		}
		potential = { 
			NOT = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_1_unlocked }
		}
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECH = { COUNT = 1 BUFF = 5 COST = -3000 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_2v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECHv = { COUNT = 2 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_2 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_5000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 5000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_1_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_1_unlocked } }
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_2
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_2_desc
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_2_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_2_unlocked
			}
		}
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECH = { COUNT = 2 BUFF = 7 COST = -5000 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_3v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECHv = { COUNT = 3 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_3 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_8000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 8000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_2_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_2_unlocked } }
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_3
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_3_desc
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_3_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_3_unlocked
			}
		}
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECH = { COUNT = 3 BUFF = 5 COST = -8000 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_4v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECHv = { COUNT = 4 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_4 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_12000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 12000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_3_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_3_unlocked } }
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_4
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_4_desc
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_4_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_4_unlocked
			}
		}
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECH = { COUNT = 4 BUFF = 7 COST = -12000 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_5v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECHv = { COUNT = 5 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_5 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_15000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 15000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_4_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_4_unlocked } }
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_5
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_5_desc
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_5_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_5_unlocked
			}
		}
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECH = { COUNT = 5 BUFF = 5 COST = -15000 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_6v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECHv = { COUNT = 6 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_6 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_21000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 21000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_5_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_5_unlocked } }
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_6
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_6_desc
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_6_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_6_unlocked
			}
		}
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECH = { COUNT = 6 BUFF = 7 COST = -21000 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_7v = {
		allow = { } potential = { }
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECHv = { COUNT = 7 } }
	}
	XSKIPER_CAFE_CONSTRUCTION_TECH_7 = {
		allow = {
			custom_tooltip = {
				fail_text = XSKIPER_CAFE_COFFEE_UNLOCK_NEED_25000_PHY
				event_target:XSKIPER_CAFE_country = { check_variable = { which = XSKIPER_CAFE_physics_research_stockpile value >= 25000 } }
			}
			hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_6_unlocked } 
			custom_tooltip = XSKIPER_CAFE_COFFEE_UNLOCK
			if = {
				limit = { hidden_trigger = { has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_6_unlocked } }
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_7
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_7_desc
				custom_tooltip = XSKIPER_CAFE_CONSTRUCTION_TECH_7_effect
			}
			else = { custom_tooltip = XSKIPER_CAFE_COFFEE_UNKNOWN }
		}
		potential = { 
			NOT = {
				has_global_flag = XSKIPER_CAFE_CONSTRUCTION_TECH_7_unlocked
			}
		}
		effect = { XSKIPER_CAFE_CONSTRUCTION_TECH = { COUNT = 7 BUFF = 9 COST = -25000 } }
	}