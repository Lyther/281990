
namespace = time

situation_event = {
	id = time.110
	title = time.110.name
	desc = time.110.desc
	picture = GFX_evt_black_hole
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		target = {
			set_variable = {
				which = district_time_level_up
				value = 0
			}
		}
		set_global_flag = time_1000_triggered
	}
	
	after = {
		owner = {
			add_research_option = tech_time_blocker_1
		}
		set_situation_locked = no
	}
	
	option = {
		name = time.110.a
		icon = {
			icon = GFX_situation_approach_research
			icon_background = GFX_situation_approach_bg_yellow
			text = set_situation_approach_icon_text
		}
		set_situation_approach = approach_pc_time_default
	}
	
	option = {
		name = time.110.b
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		set_situation_approach = approach_pc_time_encourage
	}
	
	option = {
		name = time.110.c
		icon = {
			icon = GFX_situation_approach_amenities
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
		set_situation_approach = approach_pc_time_discourage
	}
}

situation_event = {
	id = time.120
	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		random_list = {
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_121_triggered
				}
				situation_event = { id = time.121 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_122_triggered
				}
				situation_event = { id = time.122 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_123_triggered
				}
				situation_event = { id = time.123 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_124_triggered
				}
				situation_event = { id = time.124 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_125_triggered
				}
				situation_event = { id = time.125 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_126_triggered
				}
				situation_event = { id = time.126 }
			}
		}
	}
}

situation_event = {
	id = time.121
	title = time.121.name
	desc = time.121.desc
	picture = GFX_evt_clocks
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_121_triggered
	}
	
	option = {
		name = time.121.a
		target = {
			enable_special_project = {
				name = PC_TIME_PROJECT_1
				location = this
				owner = root.owner
			}
		}
	}
}

situation_event = {
	id = time.111
	title = time.111.name
	desc = time.111.desc
	picture = GFX_evt_clocks
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	after = {
		set_situation_locked = no
	}
	
	option = {
		name = time.111.a
		target = {
			set_time_blocker_0_can_be_cleared = yes
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_physics_2
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
		}
	}
}

situation_event = {
	id = time.122
	title = time.122.name
	desc = time.122.desc
	picture = GFX_evt_vortex
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_122_triggered
	}
	
	option = {
		name = time.122.a
		target = {
			enable_special_project = {
				name = PC_TIME_PROJECT_2
				location = this
				owner = root.owner
			}
		}
	}
}

situation_event = {
	id = time.112
	title = time.112.name
	desc = time.112.desc
	picture = GFX_evt_vortex
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	after = {
		set_situation_locked = no
	}
	
	option = {
		name = time.112.a
		target = {
			set_time_blocker_0_can_be_cleared = yes
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_society_2
				PROGRESS = 0.2
				CATEGORY = society_research
			}
		}
	}
}

situation_event = {
	id = time.123
	title = time.123.name
	desc = time.123.desc
	picture = GFX_evt_supernova
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_123_triggered
	}
	
	option = {
		name = time.123.a
		target = {
			enable_special_project = {
				name = PC_TIME_PROJECT_3
				location = this
				owner = root.owner
			}
		}
	}
}

situation_event = {
	id = time.113
	title = time.113.name
	desc = time.113.desc
	picture = GFX_evt_supernova
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	after = {
		set_situation_locked = no
	}
	
	option = {
		name = time.113.a
		target = {
			set_time_blocker_0_can_be_cleared = yes
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_engineering_2
				PROGRESS = 0.2
				CATEGORY = engineering_research
			}
		}
	}
}

situation_event = {
	id = time.124
	title = time.124.name
	desc = time.124.desc
	picture = GFX_evt_ongoing_disaster
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_124_triggered
	}
	
	option = {
		name = time.124.a
		target = {
			enable_special_project = {
				name = PC_TIME_PROJECT_4
				location = this
				owner = root.owner
			}
		}
	}
}

situation_event = {
	id = time.114
	title = time.114.name
	desc = time.114.desc
	picture = GFX_evt_ongoing_disaster
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	after = {
		set_situation_locked = no
	}
	
	option = {
		name = time.114.a
		target = {
			make_district_time_level_up = yes
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_extradimensional_weapon_1
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
		}
	}
}

situation_event = {
	id = time.125
	title = time.125.name
	desc = time.125.desc
	picture = GFX_evt_surreal_visions
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_125_triggered
	}
	
	option = {
		name = time.125.a
		target = {
			enable_special_project = {
				name = PC_TIME_PROJECT_5
				location = this
				owner = root.owner
			}
		}
	}
}

situation_event = {
	id = time.115
	title = time.115.name
	desc = time.115.desc
	picture = GFX_evt_surreal_visions
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	after = {
		set_situation_locked = no
	}
	
	option = {
		name = time.115.a
		owner = {
			add_monthly_resource_mult = {
				resource = energy
				value = @tier4materialreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
			add_monthly_resource_mult = {
				resource = minerals
				value = @tier4materialreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
			add_monthly_resource_mult = {
				resource = food
				value = @tier4materialreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
			add_monthly_resource_mult = {
				resource = consumer_goods
				value = @tier2materialreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
			add_monthly_resource_mult = {
				resource = alloys
				value = @tier2materialreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
			add_tech_option_or_research_effect = {
				TECH = tech_psionic_barrier
				PROGRESS = 0.2
				CATEGORY = society_research
			}
		}
	}
}

situation_event = {
	id = time.126
	title = time.126.name
	desc = time.126.desc
	picture = GFX_evt_zro_1
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_126_triggered
	}
	
	option = {
		name = time.126.a
		target = {
			enable_special_project = {
				name = PC_TIME_PROJECT_6
				location = this
				owner = root.owner
			}
		}
	}
}

situation_event = {
	id = time.116
	title = time.116.name
	desc = time.116.desc
	picture = GFX_evt_zro_1
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	after = {
		set_situation_locked = no
	}
	
	option = {
		name = time.116.a
		target = {
			custom_tooltip = create_3_pop
			hidden_effect = {
				while = {
					count = 3
					create_pop = {
						species = owner.species
					}
				}
			}
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_psionic_theory
				PROGRESS = 0.2
				CATEGORY = society_research
			}
		}
	}
}

situation_event = {
	id = time.130
	title = time.130.name
	desc = time.130.desc
	picture = GFX_evt_rare_tech_cache
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
	}
	
	after = {
	}
	
	option = {
		name = time.130.a
		target = {
			enable_special_project = {
				name = PC_TIME_PROJECT_MIDDLE_1
				location = this
				owner = root.owner
			}
		}
	}
	
	option = {
		name = time.130.b
		target = {
			enable_special_project = {
				name = PC_TIME_PROJECT_MIDDLE_2
				location = this
				owner = root.owner
			}
		}
	}
	
	option = {
		name = time.130.c
		target = {
			enable_special_project = {
				name = PC_TIME_PROJECT_MIDDLE_3
				location = this
				owner = root.owner
			}
		}
	}
}

situation_event = {
	id = time.131
	title = time.131.name
	desc = time.131.desc
	picture = GFX_evt_physics_cache
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		name = time.131.a
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		hidden_effect = {
			situation_event = { id = time.134 days = 90 random = 270 }
		}
	}
}

situation_event = {
	id = time.132
	title = time.132.name
	desc = time.132.desc
	picture = GFX_evt_society_cache
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		name = time.132.a
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		hidden_effect = {
			situation_event = { id = time.135 days = 90 random = 270 }
		}
	}
}

situation_event = {
	id = time.133
	title = time.133.name
	desc = time.133.desc
	picture = GFX_evt_engineering_cache
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		name = time.133.a
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		hidden_effect = {
			situation_event = { id = time.136 days = 90 random = 270 }
		}
	}
}

situation_event = {
	id = time.134
	title = time.134.name
	desc = time.134.desc
	picture = GFX_evt_shroudwalker_enclave
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	after = {
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_physics_3
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
		}
		hidden_effect = {
			situation_event = { id = time.137 days = 90 random = 270 }
		}
	}
	
	option = {
		name = time.134.a
		allow = {
			owner = {
				has_resource = {
					type = energy
					amount >= 1000
				}
				has_resource = {
					type = unity
					amount >= 500
				}
			}
		}
		owner = {
			add_resource = { energy = -1000 }
			add_resource = { unity = -500 }
		}
		target = {
			set_time_blocker_0_can_be_cleared = yes
		}
	}
	
	option = {
		name = time.134.b
		add_situation_progress = 100
	}
}

situation_event = {
	id = time.135
	title = time.135.name
	desc = time.135.desc
	picture = GFX_evt_worrying_signal
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	after = {
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_society_3
				PROGRESS = 0.2
				CATEGORY = society_research
			}
		}
		hidden_effect = {
			situation_event = { id = time.137 days = 90 random = 270 }
		}
	}
	
	option = {
		name = time.135.a
		allow = {
			owner = {
				has_resource = {
					type = food
					amount >= 1000
				}
				has_resource = {
					type = consumer_goods
					amount >= 500
				}
			}
		}
		owner = {
			add_resource = { food = -1000 }
			add_resource = { consumer_goods = -500 }
		}
		target = {
			custom_tooltip = create_3_pop
			hidden_effect = {
				while = {
					count = 3
					create_pop = {
						species = owner.species
					}
				}
			}
		}
	}
	
	option = {
		name = time.135.b
		add_situation_progress = 100
	}
}

situation_event = {
	id = time.136
	title = time.136.name
	desc = time.136.desc
	picture = GFX_evt_ai_planet
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	after = {
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_engineering_3
				PROGRESS = 0.2
				CATEGORY = engineering_research
			}
		}
		hidden_effect = {
			situation_event = { id = time.137 days = 90 random = 270 }
		}
	}
	
	option = {
		name = time.136.a
		allow = {
			owner = {
				has_resource = {
					type = minerals
					amount >= 1000
				}
				has_resource = {
					type = alloys
					amount >= 500
				}
			}
		}
		owner = {
			add_resource = { minerals = -1000 }
			add_resource = { alloys = -500 }
		}
		target = {
			make_district_time_level_up = yes
		}
	}
	
	option = {
		name = time.136.b
		add_situation_progress = 100
	}
}

situation_event = {
	id = time.137
	title = time.137.name
	desc = time.137.desc
	picture = GFX_evt_communication_event
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	after = {
		set_situation_locked = no
	}
	
	option = {
		name = time.137.a
		target = {
			custom_tooltip = time_blocker_2_can_be_cleared
			hidden_effect = {
				set_planet_flag = can_clear_d_time_blocker_2
			}
		}
		owner = {
			add_research_option = tech_time_blocker_2
		}
	}
}

situation_event = {
	id = time.140
	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		random_list = {
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_141_triggered
				}
				situation_event = { id = time.141 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_142_triggered
				}
				situation_event = { id = time.142 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_143_triggered
				}
				situation_event = { id = time.143 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_144_triggered
				}
				situation_event = { id = time.144 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_145_triggered
				}
				situation_event = { id = time.145 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_146_triggered
				}
				situation_event = { id = time.146 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_147_triggered
				}
				situation_event = { id = time.147 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_148_triggered
				}
				situation_event = { id = time.148 }
			}
			1 = {
				modifier = {
					factor = 0
					has_situation_flag = time_149_triggered
				}
				situation_event = { id = time.149 }
			}
		}
	}
}

situation_event = {
	id = time.141
	title = time.141.name
	desc = time.141.desc
	picture = GFX_evt_conclave
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_141_triggered
	}
	
	after = {
		target = {
			random_owned_pop = {
				limit = {
					has_job = black_hole_researcher
				}
				kill_pop = yes
			}
		}
		set_situation_locked = no
	}
	
	option = {
		name = time.141.a
		target = {
			set_time_blocker_0_can_be_cleared = yes
			set_time_blocker_0_can_be_cleared = yes
			add_modifier = {
				modifier = pc_time_modifier_1
				days = 1800
			}
		}
	}
	
	option = {
		name = time.141.b
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier3unityreward
				min = @tier3unitymin
				max = @tier3unitymax
			}
			add_tech_option_or_research_effect = {
				TECH = tech_ascension_theory
				PROGRESS = 0.2
				CATEGORY = society_research
			}
		}
	}
}

situation_event = {
	id = time.142
	title = time.142.name
	desc = time.142.desc
	picture = GFX_evt_sapient_AI
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_142_triggered
	}
	
	after = {
		target = {
			add_modifier = {
				modifier = pc_time_modifier_2
				days = 1800
			}
		}
		set_situation_locked = no
	}
	
	option = {
		name = time.142.a
		target = {
			set_time_blocker_0_can_be_cleared = yes
			set_time_blocker_0_can_be_cleared = yes
		}
		owner = {
			add_modifier = {
				modifier = pc_time_modifier_3
				days = 1800
			}
		}
	}
	
	option = {
		name = time.142.b
		owner = {
			add_modifier = {
				modifier = pc_time_modifier_4
				days = 1800
			}
			add_tech_option_or_research_effect = {
				TECH = tech_enigmatic_decoder
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
		}
	}
}

situation_event = {
	id = time.143
	title = time.143.name
	desc = time.143.desc
	picture = GFX_evt_l-gateway
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_143_triggered
	}
	
	after = {
		target = {
			custom_tooltip = remove_3_district_time
			hidden_effect = {
				while = {
					count = 3
					remove_district = district_time
				}
			}
		}
		set_situation_locked = no
	}
	
	option = {
		name = time.143.a
		target = {
			set_time_blocker_0_can_be_cleared = yes
			set_time_blocker_0_can_be_cleared = yes
			add_modifier = {
				modifier = pc_time_modifier_5
				days = 1800
			}
		}
	}
	
	option = {
		name = time.143.b
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_tech_option_or_research_effect = {
				TECH = tech_time_warp_drive_1
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
		}
	}
}

situation_event = {
	id = time.144
	title = time.144.name
	desc = time.144.desc
	picture = GFX_evt_death_from_above
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_144_triggered
	}
	
	after = {
		target = {
			add_planet_devastation = 50
		}
		set_situation_locked = no
	}
	
	option = {
		name = time.144.a
		target = {
			set_time_blocker_0_can_be_cleared = yes
			set_time_blocker_0_can_be_cleared = yes
			add_modifier = {
				modifier = pc_time_modifier_6
				days = 1800
			}
		}
	}
	
	option = {
		name = time.144.b
		target = {
			add_modifier = {
				modifier = pc_time_modifier_7
				days = 1800
			}
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_space_cloud_weapon_1
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
		}
	}
}

situation_event = {
	id = time.145
	title = time.145.name
	desc = time.145.desc
	picture = GFX_evt_enigmatic_fortress
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_145_triggered
	}
	
	after = {
		target = {
			add_modifier = {
				modifier = pc_time_modifier_8
				days = 1800
			}
		}
		set_situation_locked = no
	}
	
	option = {
		name = time.145.a
		target = {
			make_district_time_level_up = yes
			add_modifier = {
				modifier = pc_time_modifier_9
				days = 1800
			}
		}
	}
	
	option = {
		name = time.145.b
		owner = {
			add_monthly_resource_mult = {
				resource = influence
				value = @tier3influencereward
				min = @tier3influencemin
				max = @tier3influencemax
			}
			add_tech_option_or_research_effect = {
				TECH = tech_dark_matter_propulsion
				PROGRESS = 0.2
				CATEGORY = engineering_research
			}
		}
	}
}

situation_event = {
	id = time.146
	title = time.146.name
	desc = time.146.desc
	picture = GFX_evt_zro_2
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_146_triggered
	}
	
	after = {
		target = {
			add_modifier = {
				modifier = pc_time_modifier_10
				days = 1800
			}
		}
		set_situation_locked = no
	}
	
	option = {
		name = time.146.a
		target = {
			make_district_time_level_up = yes
		}
		owner = {
			add_resource = { energy = -1000 }
			add_resource = { minerals = -1000 }
			add_resource = { food = -1000 }
			add_resource = { alloys = -500 }
			add_resource = { consumer_goods = -500 }
		}
	}
	
	option = {
		name = time.146.b
		target = {
			add_modifier = {
				modifier = pc_time_modifier_11
				days = 1800
			}
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = null_void_beam
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
		}
	}
}

situation_event = {
	id = time.147
	title = time.147.name
	desc = time.147.desc
	picture = GFX_evt_spy_network
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_147_triggered
	}
	
	after = {
		add_situation_progress = -200
		set_situation_locked = no
	}
	
	option = {
		name = time.147.a
		target = {
			custom_tooltip = create_6_pop
			hidden_effect = {
				while = {
					count = 6
					create_pop = {
						species = owner.species
					}
				}
			}
		}
		custom_tooltip = make_situation_pc_time_slow
		hidden_effect = {
			set_timed_situation_flag = {
				flag = situation_slow
				days = 1800
			}
		}
	}
	
	option = {
		name = time.147.b
		custom_tooltip = make_situation_pc_time_fast
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_enigmatic_encoder
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
		}
		hidden_effect = {
			set_timed_situation_flag = {
				flag = situation_fast
				days = 1800
			}
		}
	}
}

situation_event = {
	id = time.148
	title = time.148.name
	desc = time.148.desc
	picture = GFX_evt_dimensional_horror
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_148_triggered
	}
	
	after = {
		hidden_effect = {
			custom_tooltip = make_situation_pc_time_stop
			set_timed_situation_flag = {
				flag = situation_stop
				days = 1800
			}
		}
		set_situation_locked = no
	}
	
	option = {
		name = time.148.a
		target = {
			custom_tooltip = create_6_pop
			hidden_effect = {
				while = {
					count = 6
					create_pop = {
						species = owner.species
					}
				}
			}
			add_modifier = {
				modifier = pc_time_modifier_12
				days = 1800
			}
		}
	}
	
	option = {
		name = time.148.b
		target = {
			add_modifier = {
				modifier = pc_time_modifier_13
				days = 1800
			}
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_dark_matter_power_core
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
		}
	}
}

situation_event = {
	id = time.149
	title = time.149.name
	desc = time.149.desc
	picture = GFX_evt_gray_goo
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		set_situation_locked = yes
		set_situation_flag = time_149_triggered
	}
	
	after = {
		target = {
			add_modifier = {
				modifier = pc_time_modifier_14
				days = 1800
			}
		}
		set_situation_locked = no
	}
	
	option = {
		name = time.149.a
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_dark_matter_deflector
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
			add_tech_option_or_research_effect = {
				TECH = tech_dragon_armor
				PROGRESS = 0.2
				CATEGORY = engineering_research
			}
			add_tech_option_or_research_effect = {
				TECH = tech_crystal_armor_2
				PROGRESS = 0.2
				CATEGORY = engineering_research
			}
		}
	}
	
	option = {
		name = time.149.b
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_nanite_repair_system
				PROGRESS = 0.2
				CATEGORY = engineering_research
			}
			add_tech_option_or_research_effect = {
				TECH = tech_nanite_autocannon
				PROGRESS = 0.2
				CATEGORY = engineering_research
			}
			add_tech_option_or_research_effect = {
				TECH = tech_nanite_flak_batteries
				PROGRESS = 0.2
				CATEGORY = engineering_research
			}
		}
	}
}

situation_event = {
	id = time.150
	title = time.150.name
	desc = time.150.desc
	picture = GFX_evt_black_hole
	show_sound = event_alien_signal
	location = target
	situation = this
	
	is_triggered_only = yes
	
	immediate = {
		owner = {
			country_event = { id = time.151 days = 180 random = 540 }
		}
	}
	
	after = {
		target = {
			add_modifier = {
				modifier = pc_time_modifier_end
				days = -1
			}
		}
		hidden_effect = {
			destroy_situation = this
		}
	}
	
	option = {
		name = time.150.a.materialist
		trigger = {
			owner = {
				OR = {
					has_ethic = ethic_fanatic_materialist
					has_ethic = ethic_materialist
				}
			}
		}
		owner = {
			add_modifier = {
				modifier = origin_time_modifier_materialist
				days = -1
			}
		}
	}
	
	option = {
		name = time.150.a.spiritualist
		trigger = {
			owner = {
				OR = {
					has_ethic = ethic_fanatic_spiritualist
					has_ethic = ethic_spiritualist
				}
			}
		}
		owner = {
			add_modifier = {
				modifier = origin_time_modifier_spiritualist
				days = -1
			}
		}
	}
	
	option = {
		name = time.150.a.militarist
		trigger = {
			owner = {
				OR = {
					has_ethic = ethic_fanatic_militarist
					has_ethic = ethic_militarist
				}
			}
		}
		owner = {
			add_modifier = {
				modifier = origin_time_modifier_militarist
				days = -1
			}
		}
	}
	
	option = {
		name = time.150.a.pacifist
		trigger = {
			owner = {
				OR = {
					has_ethic = ethic_fanatic_pacifist
					has_ethic = ethic_pacifist
				}
			}
		}
		owner = {
			add_modifier = {
				modifier = origin_time_modifier_pacifist
				days = -1
			}
		}
	}
	
	option = {
		name = time.150.a.xenophile
		trigger = {
			owner = {
				OR = {
					has_ethic = ethic_fanatic_xenophile
					has_ethic = ethic_xenophile
				}
			}
		}
		owner = {
			add_modifier = {
				modifier = origin_time_modifier_xenophile
				days = -1
			}
		}
	}
	
	option = {
		name = time.150.a.xenophobe
		trigger = {
			owner = {
				OR = {
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_xenophobe
				}
			}
		}
		owner = {
			add_modifier = {
				modifier = origin_time_modifier_xenophobe
				days = -1
			}
		}
	}
	
	option = {
		name = time.150.a.egalitarian
		trigger = {
			owner = {
				OR = {
					has_ethic = ethic_fanatic_egalitarian
					has_ethic = ethic_egalitarian
				}
			}
		}
		owner = {
			add_modifier = {
				modifier = origin_time_modifier_egalitarian
				days = -1
			}
		}
	}
	
	option = {
		name = time.150.a.authoritarian
		trigger = {
			owner = {
				OR = {
					has_ethic = ethic_fanatic_authoritarian
					has_ethic = ethic_authoritarian
				}
			}
		}
		owner = {
			add_modifier = {
				modifier = origin_time_modifier_authoritarian
				days = -1
			}
		}
	}
	
	option = {
		name = time.150.b
		target = {
			set_time_blocker_0_can_be_cleared = yes
			set_time_blocker_0_can_be_cleared = yes
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_sapient_ai
				PROGRESS = 0.2
				CATEGORY = physics_research
			}
		}
	}
	
	option = {
		name = time.150.c
		target = {
			make_district_time_level_up = yes
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_mega_engineering
				PROGRESS = 0.2
				CATEGORY = engineering_research
			}
		}
	}
	
	option = {
		name = time.150.d
		target = {
			custom_tooltip = create_6_pop
			hidden_effect = {
				while = {
					count = 6
					create_pop = {
						species = owner.species
					}
				}
			}
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_neuroregeneration
				PROGRESS = 0.2
				CATEGORY = society_research
			}
		}
	}
}

country_event = {
	id = time.151
	title = time.151.name
	desc = {
		text = time.151.desc_1
		trigger = {
			NOT = {
				has_global_flag = akx.9000.fired
			}
		}
	}
	desc = {
		text = time.151.desc_2
		trigger = {
			has_global_flag = akx.9000.fired
		}
	}
	picture = GFX_evt_black_hole
	show_sound = event_alien_signal
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		name = time.151.a
		custom_tooltip = gain_horizonsignal_spawn_system_point
		trigger = {
			NOT = {
				has_global_flag = akx.9000.fired
			}
		}
		hidden_effect = {
			begin_event_chain = {
				event_chain = PC_TIME_END_CHAIN
				target = root
			}
			create_point_of_interest = {
				id = horizonsignal_spawn_system_1
				name = horizonsignal_spawn_system_point
				desc = horizonsignal_spawn_system_point_desc
				event_chain = PC_TIME_END_CHAIN
				location = event_target:horizonsignal_spawn_system_1
			}
			create_point_of_interest = {
				id = horizonsignal_spawn_system_2
				name = horizonsignal_spawn_system_point
				desc = horizonsignal_spawn_system_point_desc
				event_chain = PC_TIME_END_CHAIN
				location = event_target:horizonsignal_spawn_system_2
			}
			create_point_of_interest = {
				id = horizonsignal_spawn_system_3
				name = horizonsignal_spawn_system_point
				desc = horizonsignal_spawn_system_point_desc
				event_chain = PC_TIME_END_CHAIN
				location = event_target:horizonsignal_spawn_system_3
			}
			create_point_of_interest = {
				id = horizonsignal_spawn_system_4
				name = horizonsignal_spawn_system_point
				desc = horizonsignal_spawn_system_point_desc
				event_chain = PC_TIME_END_CHAIN
				location = event_target:horizonsignal_spawn_system_4
			}
			set_visited = event_target:horizonsignal_spawn_system_1
			set_visited = event_target:horizonsignal_spawn_system_2
			set_visited = event_target:horizonsignal_spawn_system_3
			set_visited = event_target:horizonsignal_spawn_system_4
		}
	}
	
	option = {
		name = time.151.b
		trigger = {
			has_global_flag = akx.9000.fired
		}
		if = {
			limit = {
				has_technology = tech_akx_worm_1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		else = {
			add_tech_progress = {
				tech = tech_akx_worm_1
				progress = 0.20
			}
		}
		if = {
			limit = {
				has_technology = tech_akx_worm_2
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		else = {
			add_tech_progress = {
				tech = tech_akx_worm_2
				progress = 0.20
			}
		}
		if = {
			limit = {
				has_technology = tech_akx_worm_3
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		else = {
			add_tech_progress = {
				tech = tech_akx_worm_3
				progress = 0.20
			}
		}
	}
}



fleet_event = {
	id = time.201
	title = time.201.name
	desc = time.201.desc
	picture = GFX_evt_black_hole
	show_sound = event_alien_signal
	location = event_target:time_black_hole
	trackable = yes

	is_triggered_only = yes

	trigger = {
		owner = {
			is_ai = no
			has_origin = origin_time # 神秘奇点
			has_country_flag = worm_events_available # 可触发时虫事件
			NOT = { has_country_flag = time_201_triggered } # 不可重复触发
			# 奇点探索已完成
			NOT = {
				any_situation = {
					is_situation_type = situation_pc_time
				}
			}
			# 统治者是黑洞领袖
			ruler = {
				is_origin_time_ruler = yes
			}
		}
		# 是符合条件的黑洞星系
		solar_system = {
			is_star_class = sc_black_hole
			star = {
				is_planet_class = pc_black_hole
			}
			NOR = {
				has_star_flag = horizonsignal_system
				has_star_flag = guardian
				has_star_flag = empire_cluster
			}
			NOT = { is_same_value = event_target:dimension_traveler_system }
		}
		# 船上有科学家
		exists = leader
		leader = {
			leader_class = scientist
		}
	}

	immediate = {
		owner = { set_country_flag = time_201_triggered }
		solar_system = {
			set_star_flag = time_black_hole_system
			star = {
				save_global_event_target_as = time_black_hole
			}
			save_global_event_target_as = time_black_hole_system
		}
	}

	option = {
		name = time.201.a
		begin_event_chain = {
			event_chain = TIME_BLACK_HOLE_CHAIN
			target = root.owner
		}
		solar_system = {
			random_system_planet = {
				limit = {
					is_star = yes
				}
				enable_special_project = {
					name = TIME_BLACK_HOLE_PROJECT
					location = this
					owner = root.owner
				}
			}
		}
	}

	option = {
		name = time.201.b
		owner = {
			add_monthly_resource_mult = {
				resource = influence
				value = @tier2influencereward
				min = @tier2influencemin
				max = @tier2influencemax
			}
		}
	}
}

country_event = {
	id = time.202
	title = time.202.name
	desc = time.202.desc
	picture = GFX_evt_black_hole
	show_sound = event_radio_chatter
	location = event_target:time_black_hole_system

	is_triggered_only = yes

	trigger = {
		ruler = {
			is_origin_time_ruler = no
		}
	}

	immediate = {
	}

	option = {
		name = time.202.a
		end_event_chain = TIME_BLACK_HOLE_CHAIN
	}
}

country_event = {
	id = time.203
	title = time.203.name
	desc = time.203.desc
	picture = GFX_evt_black_hole
	show_sound = event_radio_chatter
	location = event_target:time_black_hole_system

	is_triggered_only = yes

	trigger = {
		ruler = {
			is_origin_time_ruler = yes
		}
	}

	immediate = {
		ruler = {
			save_global_event_target_as = time_black_hole_leader
		}
		if = {
			limit = {
				any_owned_planet = {
					has_planet_flag = time_home_planet_of@root
				}
			}
			random_owned_planet = {
				limit = {
					has_planet_flag = time_home_planet_of@root
				}
				save_global_event_target_as = time_home_planet
			}
		}
		else = {
			random_galaxy_planet = {
				limit = {
					has_planet_flag = time_home_planet_of@root
				}
				save_global_event_target_as = time_home_planet
			}
		}
	}

	option = {
		name = time.203.a
		start_situation = {
			type = situation_time_black_hole_chain
			target = event_target:time_home_planet
			effect = {
				set_situation_flag = situation_time_life
				set_situation_approach = approach_default
			}
		}
		hidden_effect = {
			country_event = { id = time.205 days = 30 }
		}
	}

	option = {
		name = time.203.b
		custom_tooltip = time.203.b.tooltip
		add_modifier = {
			modifier = timefear
			days = -1
		}
		start_situation = {
			type = situation_time_black_hole_chain
			target = event_target:time_home_planet
			effect = {
				set_situation_flag = situation_time_death
				set_situation_approach = approach_default
			}
		}
		hidden_effect = {
			set_country_flag = time_black_hole_leader_sent
			country_event = { id = time.204 days = 30 }
		}
	}
}

country_event = {
	id = time.204
	title = time.204.name
	desc = time.204.desc
	picture = GFX_evt_black_hole
	show_sound = event_radio_chatter
	location = event_target:time_home_planet

	is_triggered_only = yes

	trigger = {
	}

	immediate = {
		set_country_flag = time_black_hole_end_1
	}

	option = {
		name = time.204.a
		remove_modifier = "timefear"
		add_modifier = {
			modifier = timelife
			days = 360
		}
		if = {
			limit = {
				ruler = {
					has_trait = leader_trait_ruler_time
				}
			}
			ruler = {
				add_trait = leader_trait_ruler_time_owner
			}
			hidden_effect = {
				random_owned_planet = {
					limit = {
						is_variable_set = paragon_memory_vault
					}
					change_variable = {
						which = paragon_memory_vault
						value = 1
					}
				}
			}
		}
		if = {
			limit = {
				has_technology = tech_akx_worm_3
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		else = {
			add_tech_progress = {
				tech = tech_akx_worm_3
				progress = 0.20
			}
		}
	}
}

country_event = {
	id = time.205
	title = time.205.name
	desc = time.205.desc
	picture = GFX_evt_black_hole
	show_sound = event_radio_chatter
	location = event_target:time_black_hole_system

	is_triggered_only = yes

	trigger = {
	}

	immediate = {
		set_country_flag = time_black_hole_end_2
	}

	option = {
		name = time.205.a
		add_modifier = {
			modifier = timedeath
			days = 360
		}
		exile_leader_as = exiled_time_black_hole_leader
		if = {
			limit = {
				has_technology = tech_akx_worm_3
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		else = {
			add_tech_progress = {
				tech = tech_akx_worm_3
				progress = 0.20
			}
		}
	}
}

situation_event = {
	id = time.250
	title = time.250.name
	desc = time.250.desc
	picture = GFX_evt_black_hole
	show_sound = event_alien_signal
	location = target
	situation = this

	is_triggered_only = yes

	trigger = {
	}

	immediate = {
	}

	option = {
		name = time.250.a
		target = {
			custom_tooltip = time_blocker_3_can_be_cleared
			hidden_effect = {
				set_planet_flag = can_clear_d_time_blocker_3
			}
			set_time_blocker_0_can_be_cleared = yes
		}
		owner = {
			add_research_option = tech_time_blocker_3
			end_event_chain = TIME_BLACK_HOLE_CHAIN
		}
		destroy_situation = this
	}
}

situation_event = {
	id = time.251
	title = time.251.name
	desc = time.251.desc
	picture = GFX_evt_black_hole
	show_sound = event_yellow_alert
	location = target
	situation = this

	is_triggered_only = yes

	trigger = {
	}

	immediate = {
	}

	option = {
		name = time.251.a
		owner = {
			end_event_chain = TIME_BLACK_HOLE_CHAIN
		}
		destroy_situation = this
	}
}