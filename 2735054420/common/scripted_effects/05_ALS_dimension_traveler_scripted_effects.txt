#领袖
dimension_traveler_als_check = {
	owner = {
		dimension_traveler_als_clear_flag = yes
	}
	# 武器策略
	switch = {
		trigger = has_trait
		als_trait_strategic_energy = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_energy
			}
		}
		als_trait_strategic_energy_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_energy_expert
			}
		}
		als_trait_strategic_explosive = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_explosive
			}
		}
		als_trait_strategic_explosive_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_explosive_expert
			}
		}
		als_trait_strategic_kinetic = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_kinetic
			}
		}
		als_trait_strategic_kinetic_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_kinetic_expert
			}
		}
		als_trait_strategic_point_defense = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_point_defense
			}
		}
		als_trait_strategic_point_defense_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_point_defense_expert
			}
		}
		als_trait_strategic_strike_craft = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_strike_craft
			}
		}
		als_trait_strategic_strike_craft_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_strike_craft_expert
			}
		}
		als_trait_strategic_anti_hull = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_anti_hull
			}
		}
		als_trait_strategic_anti_hull_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_anti_hull_expert
			}
		}
		als_trait_strategic_anti_armor = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_anti_armor
			}
		}
		als_trait_strategic_anti_armor_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_anti_armor_expert
			}
		}
		als_trait_strategic_anti_shield = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_anti_shield
			}
		}
		als_trait_strategic_anti_shield_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_anti_shield_expert
			}
		}
		als_trait_strategic_artillery = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_artillery
			}
		}
		als_trait_strategic_artillery_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_artillery_expert
			}
		}
		als_trait_strategic_border = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_border
			}
		}
		als_trait_strategic_border_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_border_expert
			}
		}
		als_trait_strategic_engineer = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_engineer
			}
		}
		als_trait_strategic_engineer_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_engineer_expert
			}
		}
		als_trait_strategic_hyperliner = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_hyperliner
			}
		}
		als_trait_strategic_hyperliner_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_hyperliner_expert
			}
		}
		als_trait_strategic_invader = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_invader
			}
		}
		als_trait_strategic_invader_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_invader_expert
			}
		}
		als_trait_strategic_jumpdriver = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_jumpdriver
			}
		}
		als_trait_strategic_jumpdriver_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_jumpdriver_expert
			}
		}
		als_trait_strategic_logistician = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_logistician
			}
		}
		als_trait_strategic_logistician_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_logistician_expert
			}
		}
		als_trait_strategic_preaim = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_preaim
			}
		}
		als_trait_strategic_preaim_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_preaim_expert
			}
		}
		als_trait_strategic_Resonator = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_Resonator
			}
		}
		als_trait_strategic_Resonator_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_Resonator_expert
			}
		}
		als_trait_strategic_sharpshooter = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_sharpshooter
			}
		}
		als_trait_strategic_sharpshooter_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_sharpshooter_expert
			}
		}
		als_trait_strategic_skyrocket = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_skyrocket
			}
		}
		als_trait_strategic_skyrocket_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_skyrocket_expert
			}
		}
		als_trait_strategic_triggerfinger = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_triggerfinger
			}
		}
		als_trait_strategic_triggerfinger_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_triggerfinger_expert
			}
		}
		als_trait_strategic_fortify = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_fortify
			}
		}
		als_trait_strategic_fortify_expert = {
			owner = {
				set_country_flag = dimension_traveler_als_trait_strategic_fortify_expert
			}
		}
	}
	if = {
		limit = {
			is_variable_set = als_accuracy_exp
			is_variable_set = als_movement_exp
			is_variable_set = als_siege_exp
			is_variable_set = als_shock_exp
		}
		owner = {
			set_variable = {
				which = dimension_traveler_als_accuracy_exp
				value = prev.als_accuracy_exp
			}
			set_variable = {
				which = dimension_traveler_als_movement_exp
				value = prev.als_movement_exp
			}
			set_variable = {
				which = dimension_traveler_als_siege_exp
				value = prev.als_siege_exp
			}
			set_variable = {
				which = dimension_traveler_als_shock_exp
				value = prev.als_shock_exp
			}
		}
	}
	owner = {
		if = {
			limit = {
				NOT = {
					is_variable_set = dimension_traveler_als_accuracy_exp
				}
			}
			set_variable = {
				which = dimension_traveler_als_accuracy_exp
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					is_variable_set = dimension_traveler_als_movement_exp
				}
			}
			set_variable = {
				which = dimension_traveler_als_movement_exp
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					is_variable_set = dimension_traveler_als_siege_exp
				}
			}
			set_variable = {
				which = dimension_traveler_als_siege_exp
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					is_variable_set = dimension_traveler_als_shock_exp
				}
			}
			set_variable = {
				which = dimension_traveler_als_shock_exp
				value = 0
			}
		}
	}
}

#领袖
dimension_traveler_als_effect = {
	set_leader_flag = als_admiral
	als_admiral_remove_all_strategic_traits = yes
	als_admiral_remove_all_tactic_traits = yes
	remove_trait = als_trait_tactic_locked_unlockable
	remove_trait = als_trait_tactic_locked
	owner = {
		switch = {
			trigger = has_country_flag
			dimension_traveler_als_trait_strategic_energy = {
				prev = { add_trait_no_notify = als_trait_strategic_energy }
			}
			dimension_traveler_als_trait_strategic_energy_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_energy_expert }
			}
			dimension_traveler_als_trait_strategic_explosive = {
				prev = { add_trait_no_notify = als_trait_strategic_explosive }
			}
			dimension_traveler_als_trait_strategic_explosive_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_explosive_expert }
			}
			dimension_traveler_als_trait_strategic_kinetic = {
				prev = { add_trait_no_notify = als_trait_strategic_kinetic }
			}
			dimension_traveler_als_trait_strategic_kinetic_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_kinetic_expert }
			}
			dimension_traveler_als_trait_strategic_point_defense = {
				prev = { add_trait_no_notify = als_trait_strategic_point_defense }
			}
			dimension_traveler_als_trait_strategic_point_defense_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_point_defense_expert }
			}
			dimension_traveler_als_trait_strategic_strike_craft = {
				prev = { add_trait_no_notify = als_trait_strategic_strike_craft }
			}
			dimension_traveler_als_trait_strategic_strike_craft_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_strike_craft_expert }
			}
			dimension_traveler_als_trait_strategic_anti_hull = {
				prev = { add_trait_no_notify = als_trait_strategic_anti_hull }
			}
			dimension_traveler_als_trait_strategic_anti_hull_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_anti_hull_expert }
			}
			dimension_traveler_als_trait_strategic_anti_armor = {
				prev = { add_trait_no_notify = als_trait_strategic_anti_armor }
			}
			dimension_traveler_als_trait_strategic_anti_armor_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_anti_armor_expert }
			}
			dimension_traveler_als_trait_strategic_anti_shield = {
				prev = { add_trait_no_notify = als_trait_strategic_anti_shield }
			}
			dimension_traveler_als_trait_strategic_anti_shield_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_anti_shield_expert }
			}
			dimension_traveler_als_trait_strategic_artillery = {
				prev = { add_trait_no_notify = als_trait_strategic_artillery }
			}
			dimension_traveler_als_trait_strategic_artillery_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_artillery_expert }
			}
			dimension_traveler_als_trait_strategic_border = {
				prev = { add_trait_no_notify = als_trait_strategic_border }
			}
			dimension_traveler_als_trait_strategic_border_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_border_expert }
			}
			dimension_traveler_als_trait_strategic_engineer = {
				prev = { add_trait_no_notify = als_trait_strategic_engineer }
			}
			dimension_traveler_als_trait_strategic_engineer_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_engineer_expert }
			}
			dimension_traveler_als_trait_strategic_hyperliner = {
				prev = { add_trait_no_notify = als_trait_strategic_hyperliner }
			}
			dimension_traveler_als_trait_strategic_hyperliner_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_hyperliner_expert }
			}
			dimension_traveler_als_trait_strategic_invader = {
				prev = { add_trait_no_notify = als_trait_strategic_invader }
			}
			dimension_traveler_als_trait_strategic_invader_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_invader_expert }
			}
			dimension_traveler_als_trait_strategic_jumpdriver = {
				prev = { add_trait_no_notify = als_trait_strategic_jumpdriver }
			}
			dimension_traveler_als_trait_strategic_jumpdriver_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_jumpdriver_expert }
			}
			dimension_traveler_als_trait_strategic_logistician = {
				prev = { add_trait_no_notify = als_trait_strategic_logistician }
			}
			dimension_traveler_als_trait_strategic_logistician_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_logistician_expert }
			}
			dimension_traveler_als_trait_strategic_preaim = {
				prev = { add_trait_no_notify = als_trait_strategic_preaim }
			}
			dimension_traveler_als_trait_strategic_preaim_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_preaim_expert }
			}
			dimension_traveler_als_trait_strategic_Resonator = {
				prev = { add_trait_no_notify = als_trait_strategic_Resonator }
			}
			dimension_traveler_als_trait_strategic_Resonator_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_Resonator_expert }
			}
			dimension_traveler_als_trait_strategic_sharpshooter = {
				prev = { add_trait_no_notify = als_trait_strategic_sharpshooter }
			}
			dimension_traveler_als_trait_strategic_sharpshooter_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_sharpshooter_expert }
			}
			dimension_traveler_als_trait_strategic_skyrocket = {
				prev = { add_trait_no_notify = als_trait_strategic_skyrocket }
			}
			dimension_traveler_als_trait_strategic_skyrocket_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_skyrocket_expert }
			}
			dimension_traveler_als_trait_strategic_triggerfinger = {
				prev = { add_trait_no_notify = als_trait_strategic_triggerfinger }
			}
			dimension_traveler_als_trait_strategic_triggerfinger_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_triggerfinger_expert }
			}
			dimension_traveler_als_trait_strategic_fortify = {
				prev = { add_trait_no_notify = als_trait_strategic_fortify }
			}
			dimension_traveler_als_trait_strategic_fortify_expert = {
				prev = { add_trait_no_notify = als_trait_strategic_fortify_expert }
			}
			default = {
				prev = { add_trait_no_notify = als_trait_strategic_energy }
			}
		}
	}
	set_variable = {
		which = als_accuracy_exp
		value = owner.dimension_traveler_als_accuracy_exp
	}
	set_variable = {
		which = als_movement_exp
		value = owner.dimension_traveler_als_movement_exp
	}
	set_variable = {
		which = als_siege_exp
		value = owner.dimension_traveler_als_siege_exp
	}
	set_variable = {
		which = als_shock_exp
		value = owner.dimension_traveler_als_shock_exp
	}
	if = {
		limit = {
			has_skill >= 5
			check_variable = {
				which = als_accuracy_exp
				value >= 1200
			}
			check_variable = {
				which = als_shock_exp
				value >= 1200
			}
		}
		add_trait_no_notify = als_trait_tactic_unpredictable_expert
	}
	else_if = {
		limit = {
			has_skill >= 5
		}
		add_trait_no_notify = als_trait_tactic_unpredictable
	}
	else = {
		add_trait_no_notify = als_trait_tactic_locked
	}
	als_remove_admirals_base_4_traits = yes
	als_refresh_admirals_base_4_traits = yes
}

#国家
dimension_traveler_als_clear_flag = {
	remove_country_flag = dimension_traveler_als_trait_strategic_energy
	remove_country_flag = dimension_traveler_als_trait_strategic_energy_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_explosive
	remove_country_flag = dimension_traveler_als_trait_strategic_explosive_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_kinetic
	remove_country_flag = dimension_traveler_als_trait_strategic_kinetic_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_point_defense
	remove_country_flag = dimension_traveler_als_trait_strategic_point_defense_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_strike_craft
	remove_country_flag = dimension_traveler_als_trait_strategic_strike_craft_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_anti_hull
	remove_country_flag = dimension_traveler_als_trait_strategic_anti_hull_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_anti_armor
	remove_country_flag = dimension_traveler_als_trait_strategic_anti_armor_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_anti_shield
	remove_country_flag = dimension_traveler_als_trait_strategic_anti_shield_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_artillery
	remove_country_flag = dimension_traveler_als_trait_strategic_artillery_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_border
	remove_country_flag = dimension_traveler_als_trait_strategic_border_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_engineer
	remove_country_flag = dimension_traveler_als_trait_strategic_engineer_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_hyperliner
	remove_country_flag = dimension_traveler_als_trait_strategic_hyperliner_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_invader
	remove_country_flag = dimension_traveler_als_trait_strategic_invader_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_jumpdriver
	remove_country_flag = dimension_traveler_als_trait_strategic_jumpdriver_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_logistician
	remove_country_flag = dimension_traveler_als_trait_strategic_logistician_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_preaim
	remove_country_flag = dimension_traveler_als_trait_strategic_preaim_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_Resonator
	remove_country_flag = dimension_traveler_als_trait_strategic_Resonator_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_sharpshooter
	remove_country_flag = dimension_traveler_als_trait_strategic_sharpshooter_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_skyrocket
	remove_country_flag = dimension_traveler_als_trait_strategic_skyrocket_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_triggerfinger
	remove_country_flag = dimension_traveler_als_trait_strategic_triggerfinger_expert
	remove_country_flag = dimension_traveler_als_trait_strategic_fortify
	remove_country_flag = dimension_traveler_als_trait_strategic_fortify_expert
}