
add_newfrontiers_starting_deposits = {
	#remove_all_districts = yes
	#remove_all_buildings = yes
	clear_deposits = yes
	
	# blockers
	if = {
		limit = {
			owner = {
				has_origin = origin_post_apocalyptic
			}
		}
		add_deposit = d_tomb_world_ruins
		add_deposit = d_tomb_world_wasteland
	}
	else_if = {
		limit = {
			owner = {
				has_civic = civic_machine_terminator
				NOT = { has_origin = origin_machine }
			}
		}

		add_deposit = d_exterminators_ruins
		add_deposit = d_former_battlefield
	}
	else_if = {
		limit = {
			owner = {
				has_civic = civic_machine_servitor
			}
		}

		add_deposit = d_strip_mine
		add_deposit = d_unsupervised_settlement
	}
	else_if = {
		limit = {
			owner = {
				has_civic = civic_machine_assimilator
				NOT = { has_origin = origin_machine }
			}
		}

		add_deposit = d_strip_mine
		add_deposit = d_assimilators_ruins
	}
	else_if = {
		limit = {
			owner = {
				has_authority = auth_machine_intelligence
				NOR = { 
					has_origin = origin_machine
					has_origin = origin_derelict_evolution
				}
			}
		}

		add_deposit = d_strip_mine
		add_deposit = d_machine_empire_ruins
	}
	else_if = {
		limit = {
			owner = {
				has_authority = auth_hive_mind
			}
		}

		add_deposit = d_collapsed_burrows
		add_deposit = d_failing_infrastructure
		add_deposit = d_failing_infrastructure
	}
	else_if = {
		limit = {
			owner = {
				OR = {
					has_origin = origin_subterranean
					has_origin = origin_forsaken
					has_origin = origin_derelict_evolution
				}
			}
		}
		#No blockers in the Hollow Worlds.
	}
	else_if = {
		limit = {
			owner = {
				NOT = { has_origin = origin_machine }
			}
		}
		add_deposit = d_decrepit_dwellings
		add_deposit = d_failing_infrastructure
		add_deposit = d_failing_infrastructure
	}

	if = {
		limit = {
			has_planet_flag = planet_unity
		}
		remove_deposit = d_failing_infrastructure
		add_deposit = d_forgotten_civilization
	}
	if = {
		limit = {
			owner = {
				is_lithoid_empire = yes
				NOR = {
					has_valid_civic = civic_hive_devouring_swarm
					has_origin = origin_lithoid
					has_origin = origin_broken_shackles
				}
			}
		}
		while = {
			count = 4
			add_deposit = d_hibernating_lithoids
		}
	}

	if = {
		limit = {
			owner = {
				is_lithoid_empire = yes
				has_valid_civic = civic_hive_devouring_swarm
			}
		}
		while = {
			count = 2
			add_deposit = d_hibernating_lithoids
		}
	}
	
	#ORIGINS
	#Twilight Ones
	if = {
		limit = { owner = { has_origin = origin_twilight_ones } }
		
		if = {
			limit = { has_modifier = flaming_world }
			
			# 3 + 3 energy
			add_deposit = d_arid_highlands
			add_deposit = d_searing_desert
			add_deposit = d_scorched_badlands

			# 3 + 3 mining
			add_deposit = d_mineral_fields
			add_deposit = d_ore_rich_caverns
			add_deposit = d_rich_mountain

			# 4 + 3 farming (lithoids swap 3 for minerals)
			add_deposit = d_hydroponic_complex
			add_deposit = d_irrigated_fields
			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_agrarian_dome
			}
			
			add_deposit = d_dust_desert
		}
		else_if = {
			limit = { has_modifier = meridiem_world }
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_frozen_gas_lake
			add_deposit = d_geothermal_vent

			# 3 + 3 mining
			add_deposit = d_mineral_fields
			add_deposit = d_ore_rich_caverns
			add_deposit = d_rich_mountain

			# 4 + 3 farming (lithoids swap 3 for minerals)
			add_deposit = d_rugged_woods
			add_deposit = d_lush_jungle
			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_estuary_meadows
			}
		}
		else_if = {
			limit = { has_modifier = eyeball_world }
			
			# 3 + 3 energy
			add_deposit = d_turbulent_currents
			add_deposit = d_submerged_gas_eruption
			add_deposit = d_underwater_vent

			# 3 + 3 mining
			add_deposit = d_offshore_fields
			add_deposit = d_abundant_atoll
			add_deposit = d_submerged_ore_veins

			# 4 + 3 farming (lithoids swap 3 for minerals)
			add_deposit = d_seagrass_shelf
			add_deposit = d_kelp_forest
			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_teeming_reef
			}
		}
		else = {
			# 3 + 3 energy
			add_deposit = d_arid_highlands
			add_deposit = d_searing_desert
			add_deposit = d_scorched_badlands

			# 3 + 3 mining
			add_deposit = d_mineral_fields
			add_deposit = d_ore_rich_caverns
			add_deposit = d_rich_mountain

			# 4 + 3 farming (lithoids swap 3 for minerals)
			add_deposit = d_bountiful_plains
			add_deposit = d_great_river
			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_black_soil
			}
		}
	}
	#Forsaken
	if = {
		limit = { owner = { has_origin = origin_forsaken } }

		if = {
			limit = { has_modifier = lava_world }
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption
			add_deposit = d_gaseous_eruption
			add_deposit = d_geothermal_vent

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			add_deposit = d_prosperous_mesa
			add_deposit = d_rich_mountain

			# 2 + 2 farming	
			add_deposit = d_hydroponic_complex
			add_deposit = d_agrarian_dome
			
			add_deposit = d_dust_desert
			add_deposit = d_fuming_bog
		}
		else_if = {
			limit = { has_modifier = ash_world }
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption
			add_deposit = d_gaseous_eruption
			add_deposit = d_geothermal_vent

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			add_deposit = d_prosperous_mesa
			add_deposit = d_rich_mountain

			# 2 + 2 farming	
			add_deposit = d_hydroponic_complex
			add_deposit = d_agrarian_dome
			
			add_deposit = d_dust_caverns
			add_deposit = d_crystal_forest
		}
		else_if = {
			limit = { has_modifier = archean_world }
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_frozen_gas_lake
			add_deposit = d_frozen_gas_lake
			add_deposit = d_geothermal_vent

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			add_deposit = d_prosperous_mesa
			add_deposit = d_rich_mountain

			# 2 + 2 farming	
			add_deposit = d_hydroponic_complex
			add_deposit = d_agrarian_dome
			
			add_deposit = d_dust_caverns
			add_deposit = d_crystal_forest
		}
		else_if = {
			limit = { has_modifier = young_world }
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption
			add_deposit = d_gaseous_eruption
			add_deposit = d_geothermal_vent

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			add_deposit = d_prosperous_mesa
			add_deposit = d_rich_mountain

			# 2 + 2 farming	
			add_deposit = d_seagrass_shelf
			add_deposit = d_teeming_reef
			
			add_deposit = d_dust_desert
			add_deposit = d_crystal_forest
		}
		else = {
		
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption
			add_deposit = d_gaseous_eruption
			add_deposit = d_geothermal_vent

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			add_deposit = d_prosperous_mesa
			add_deposit = d_rich_mountain

			# 2 + 2 farming	
			add_deposit = d_hydroponic_complex
			add_deposit = d_agrarian_dome
		}
		
		add_deposit = d_protective_vault_system
	}
	#Derelict Evolution
	if = {
		limit = { owner = { has_origin = origin_derelict_evolution } }

		if = {
			limit = { has_modifier = lava_world }
			
			# blockers
			add_deposit = d_rusty_debris
			add_deposit = d_giant_fossils
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			
			add_deposit = d_dust_desert
			add_deposit = d_fuming_bog
		}
		else_if = {
			limit = { has_modifier = ash_world }
			
			# blockers
			add_deposit = d_rusty_debris
			add_deposit = d_giant_fossils
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			
			add_deposit = d_dust_caverns
			add_deposit = d_crystal_forest
		}
		else_if = {
			limit = { has_modifier = archean_world }
			
			# blockers
			add_deposit = d_rusty_debris
			add_deposit = d_giant_fossils
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_frozen_gas_lake

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			
			add_deposit = d_dust_caverns
			add_deposit = d_crystal_forest
		}
		else_if = {
			limit = { has_modifier = young_world }
			
			# blockers
			add_deposit = d_rusty_debris
			add_deposit = d_giant_fossils
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			
			add_deposit = d_dust_desert
			add_deposit = d_crystal_forest
		}
		else = {
			
			# blockers
			add_deposit = d_rusty_debris
			add_deposit = d_giant_fossils
		
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
		}
	}
	#Sentient Planet
	if = {
		limit = { owner = { has_origin = origin_sentient_planet } }

		if = {
			limit = { has_modifier = lava_world }
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption
			add_deposit = d_geothermal_vent

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			add_deposit = d_rich_mountain
			add_deposit = d_rich_mountain
			
			add_deposit = d_dust_desert
			add_deposit = d_fuming_bog
			
			add_deposit = d_heart_of_the_overmind
		}
		else_if = {
			limit = { has_modifier = ash_world }
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption
			add_deposit = d_geothermal_vent

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			add_deposit = d_rich_mountain
			add_deposit = d_rich_mountain
			
			add_deposit = d_dust_caverns
			add_deposit = d_crystal_forest
			
			add_deposit = d_heart_of_the_overmind
		}
		else_if = {
			limit = { has_modifier = archean_world }
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_frozen_gas_lake
			add_deposit = d_geothermal_vent

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			add_deposit = d_rich_mountain
			add_deposit = d_rich_mountain
			
			add_deposit = d_dust_caverns
			add_deposit = d_crystal_forest
			
			add_deposit = d_heart_of_the_overmind
		}
		else_if = {
			limit = { has_modifier = young_world }
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption
			add_deposit = d_geothermal_vent

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			add_deposit = d_rich_mountain
			add_deposit = d_rich_mountain
			
			add_deposit = d_dust_desert
			add_deposit = d_crystal_forest
			
			add_deposit = d_heart_of_the_overmind
		}
		else = {
			
			# 3 + 3 energy
			add_deposit = d_hot_springs
			add_deposit = d_gaseous_eruption
			add_deposit = d_geothermal_vent

			# 3 + 4 mining
			add_deposit = d_mineral_fields
			add_deposit = d_prosperous_mesa
			add_deposit = d_rich_mountain
			add_deposit = d_rich_mountain
			
			add_deposit = d_heart_of_the_overmind
		}
	}
	
	#SUBCLASSES
	if = {
		limit = { has_modifier = dune_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_nutritious_mudland
		add_deposit = d_great_river
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_nutritious_mudland

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_marvelous_oasis
			}
		}
	}
	#Dune
	if = {
		limit = { has_modifier = dune_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_hydroponic_complex
		add_deposit = d_irrigated_fields
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_hydroponic_complex

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_agrarian_dome
			}
		}
		
		add_deposit = d_dust_desert
	}
	#Oasis
	if = {
		limit = { has_modifier = oasis_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_underwater_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_hydroponic_complex
		add_deposit = d_great_river
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_hydroponic_complex

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_tropical_island
			}
		}
	}
	#Salt
	if = {
		limit = { has_modifier = salt_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_salt_flat
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_salt_flat
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_hydroponic_complex
		add_deposit = d_irrigated_fields
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_hydroponic_complex

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_agrarian_dome
			}
		}
	}
	#Adiabatic
	if = {
		limit = { has_modifier = adiabatic_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_hydroponic_complex
		add_deposit = d_irrigated_fields
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_hydroponic_complex

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_agrarian_dome
			}
		}
		
		add_deposit = d_crystal_forest
	}
	#Karst
	if = {
		limit = { has_modifier = karst_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_hydroponic_complex
		add_deposit = d_great_river
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_hydroponic_complex

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_underground_reservoir
			}
		}
		
		add_deposit = d_karst_cave
	}
	#Dust
	if = {
		limit = { has_modifier = dust_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_hydroponic_complex
		add_deposit = d_irrigated_fields
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_hydroponic_complex

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_agrarian_dome
			}
		}
		
		add_deposit = d_dust_caverns
		add_deposit = d_dust_caverns
		add_deposit = d_dust_caverns
	}
	#Aeolian
	if = {
		limit = { has_modifier = aeolian_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_bountiful_plains
		add_deposit = d_great_river
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_bountiful_plains

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_marvelous_oasis
			}
		}
	}
	#Mesa
	if = {
		limit = { has_modifier = mesa_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_prosperous_mesa
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_bountiful_plains
		add_deposit = d_great_river
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_bountiful_plains

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_marvelous_oasis
			}
		}
		
		add_deposit = d_grand_canyon
	}
	#Steppe
	if = {
		limit = { has_modifier = steppe_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_prosperous_mesa
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_bountiful_plains
		add_deposit = d_fertile_lands
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_bountiful_plains

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_black_soil
			}
		}
	}
	#Mesocyclonic
	if = {
		limit = { has_modifier = mesocyclonic_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_prosperous_mesa
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_bountiful_plains
		add_deposit = d_fertile_lands
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_bountiful_plains

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_agrarian_dome
			}
		}
		
		add_deposit = d_great_vortex
	}
	#Effusive
	if = {
		limit = { has_modifier = effusive_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_bountiful_plains
		add_deposit = d_fertile_lands
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_bountiful_plains

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_black_soil
			}
		}
	}
	#Veld
	if = {
		limit = { has_modifier = veld_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_prosperous_mesa
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_bountiful_plains
		add_deposit = d_fertile_lands
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_bountiful_plains

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_huge_tree
			}
		}
	}
	#Swamp
	if = {
		limit = { has_modifier = swamp_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_peat_moors
		add_deposit = d_tempestous_mountain
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_peat_moors
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_prosperous_mesa
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_boggy_fens
		add_deposit = d_lush_jungle
		if = {
			limit = { owner = { is_machine_empire = no } }
			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_boggy_fens
				add_deposit = d_estuary_meadows
			}
		}
		
		add_deposit = d_bubbling_swamp
	}
	#Forest
	if = {
		limit = { has_modifier = forest_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_peat_moors
		add_deposit = d_tempestous_mountain
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_peat_moors
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_prosperous_mesa
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_green_hills
		add_deposit = d_lush_jungle
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_huge_tree
			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_green_hills
				add_deposit = d_huge_tree
			}
		}
	}
	#Monsoon
	if = {
		limit = { has_modifier = monsoon_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_rushing_waterfalls
		add_deposit = d_tempestous_mountain
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_rushing_waterfalls
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_prosperous_mesa
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_green_hills
		add_deposit = d_lush_jungle
		if = {
			limit = { owner = { is_machine_empire = no } }
			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_green_hills
				add_deposit = d_agrarian_dome
			}
		}
		
		add_deposit = d_betharian_deposit
	}
	#Megaflora
	if = {
		limit = { has_modifier = megaflora_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_rushing_waterfalls
		add_deposit = d_tempestous_mountain
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_rushing_waterfalls
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_prosperous_mesa
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_green_hills
		add_deposit = d_lush_jungle
		if = {
			limit = { owner = { is_machine_empire = no } }
			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_green_hills
				add_deposit = d_huge_tree
			}
		}
	}
	#Boreal
	if = {
		limit = { has_modifier = boreal_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_rushing_waterfalls
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_rushing_waterfalls
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_prosperous_mesa
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_rugged_woods
		add_deposit = d_fertile_lands
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_rugged_woods

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_black_soil
			}
		}
	}
	#Supercontinental
	if = {
		limit = { has_modifier = supercontinental_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_tempestous_mountain
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_searing_desert
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_prosperous_mesa
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_rugged_woods
		add_deposit = d_fertile_lands
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_rugged_woods

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_tropical_island
			}
		}
		
		add_deposit = d_great_vortex
	}
	#Mediterranean
	if = {
		limit = { has_modifier = mediterranean_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_rushing_waterfalls
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_rushing_waterfalls
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_arid_highlands
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_prosperous_mesa
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_bountiful_plains
		add_deposit = d_fertile_lands
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_bountiful_plains

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_tropical_island
			}
		}
	}
	#Primal
	if = {
		limit = { has_modifier = primal_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_rushing_waterfalls
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_rushing_waterfalls
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_prosperous_mesa
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_rugged_woods
		add_deposit = d_fertile_lands
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_rugged_woods

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_black_soil
			}
		}
	}
	#Panthalassic
	if = {
		limit = { 
			has_modifier = panthalassic_world 
			owner = { NOT = { has_origin = origin_ocean_paradise } }
		}

		# 3 + 3 energy
		add_deposit = d_turbulent_currents
		add_deposit = d_submerged_gas_eruption
		add_deposit = d_underwater_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_submerged_gas_eruption
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_turbulent_currents
		}

		# 3 + 3 mining
		add_deposit = d_offshore_fields
		add_deposit = d_abundant_atoll
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_seagrass_shelf
		add_deposit = d_kelp_forest
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_seagrass_shelf

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_teeming_reef
			}
		}
	}
	#Atoll
	if = {
		limit = { 
			has_modifier = atoll_world 
			owner = { NOT = { has_origin = origin_ocean_paradise } }
		}

		# 3 + 3 energy
		add_deposit = d_turbulent_currents
		add_deposit = d_rushing_waterfalls
		add_deposit = d_underwater_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_rushing_waterfalls
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_turbulent_currents
		}

		# 3 + 3 mining
		add_deposit = d_offshore_fields
		add_deposit = d_abundant_atoll
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_seagrass_shelf
		add_deposit = d_lush_jungle
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_seagrass_shelf

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_teeming_reef
			}
		}
		
		add_deposit = d_serene_coastline
	}
	#Storm
	if = {
		limit = {
			has_modifier = storm_world
			owner = { NOT = { has_origin = origin_ocean_paradise } }
		}

		# 3 + 3 energy
		add_deposit = d_turbulent_currents
		add_deposit = d_submerged_gas_eruption
		add_deposit = d_underwater_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_submerged_gas_eruption
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_turbulent_currents
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_seagrass_shelf
		add_deposit = d_kelp_forest
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_seagrass_shelf

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_teeming_reef
			}
		}
		
		add_deposit = d_stormy_water
	}
	#Reef
	if = {
		limit = {
			has_modifier = reef_world
			owner = { NOT = { has_origin = origin_ocean_paradise } }
		}

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_submerged_gas_eruption
		add_deposit = d_underwater_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_submerged_gas_eruption
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_seagrass_shelf
		add_deposit = d_kelp_forest
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_seagrass_shelf

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_teeming_reef
			}
		}
		
		add_deposit = d_maze_cliff_formations
	}
	#Taiga
	if = {
		limit = { has_modifier = taiga_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_peat_moors
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_peat_moors
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_rugged_woods
		add_deposit = d_agrothermal_plains
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_rugged_woods

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_black_soil
			}
		}
	}
	#Moraine
	if = {
		limit = { has_modifier = moraine_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_frozen_gas_lake
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_forgiving_tundra
		add_deposit = d_agrothermal_plains
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_forgiving_tundra

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_agrarian_dome
			}
		}
	}
	#Bog
	if = {
		limit = { has_modifier = bog_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_peat_moors
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_peat_moors
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_forgiving_tundra
		add_deposit = d_fungal_caves
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_forgiving_tundra

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_fungal_forest
			}
		}
		
		add_deposit = d_fuming_bog
	}
	#Mushroom
	if = {
		limit = { has_modifier = mushroom_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_frozen_gas_lake
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_fungal_forest
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_fungal_caves

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_fungal_forest
			}
		}
	}
	#Glacial
	if = {
		limit = { has_modifier = glacial_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_frozen_gas_lake
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_hydroponic_complex
		add_deposit = d_agrothermal_plains
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_hydroponic_complex

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_agrarian_dome
			}
		}
		
		add_deposit = d_crystal_forest
	}
	#Iceberg
	if = {
		limit = { has_modifier = iceberg_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_underwater_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_frozen_gas_lake
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_submerged_ore_veins

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_lichen_fields
		add_deposit = d_kelp_forest
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_lichen_fields

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_submerged_ore_veins
			}
			else = {
				add_deposit = d_fungal_forest
			}
		}
	}
	#Geothermal
	if = {
		limit = { has_modifier = geothermal_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_ice_geyser
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_ice_geyser
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_green_hills
		add_deposit = d_lush_jungle
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_green_hills

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_estuary_meadows
			}
		}
	}
	#Frigid
	if = {
		limit = { has_modifier = frigid_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_frozen_gas_lake
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_hydroponic_complex
		add_deposit = d_agrothermal_plains
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_hydroponic_complex

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_agrarian_dome
			}
		}
		
		add_deposit = d_crystal_forest
	}
	#Mineral
	if = {
		limit = { has_modifier = mineral_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_tempestous_mountain
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_frozen_gas_lake
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_hydroponic_complex
		add_deposit = d_agrothermal_plains
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_hydroponic_complex

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_agrarian_dome
			}
		}
		
		add_deposit = d_crystalline_caverns
		add_deposit = d_crystalline_caverns
	}
	#Snow
	if = {
		limit = { has_modifier = snow_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_tempestous_mountain
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_frozen_gas_lake
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_rugged_woods
		add_deposit = d_fungal_caves
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_rugged_woods

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_fungal_forest
			}
		}
	}
	#Plateau
	if = {
		limit = { has_modifier = plateau_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_tempestous_mountain
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_frozen_gas_lake
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_prosperous_mesa
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_forgiving_tundra
		add_deposit = d_fungal_caves
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_forgiving_tundra

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_fungal_forest
			}
		}
	}
	#Highland
	if = {
		limit = { has_modifier = highland_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_tempestous_mountain
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_frozen_gas_lake
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_forgiving_tundra
		add_deposit = d_fungal_caves
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_forgiving_tundra

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_fungal_forest
			}
		}
	}
	#Garden
	if = {
		limit = { has_modifier = highland_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_tempestous_mountain
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_frozen_gas_lake
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain

		# 4 + 3 farming (lithoids swap 3 for minerals)
		add_deposit = d_forgiving_tundra
		add_deposit = d_fungal_caves
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_forgiving_tundra

			if = {
				limit = { owner = { is_lithoid_empire = yes } }
				add_deposit = d_rich_mountain
			}
			else = {
				add_deposit = d_fungal_forest
			}
		}
	}
	#Wasteland
	if = {
		limit = { has_modifier = wasteland_world }

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { has_civic = civic_machine_terminator } }
			add_deposit = d_searing_desert
		}

		# 3 + 4 mining
		add_deposit = d_mineral_fields
		add_deposit = d_prosperous_mesa
		add_deposit = d_rich_mountain

		# 3 + 2 farming
		add_deposit = d_lichen_fields
		add_deposit = d_fungal_caves
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_marvelous_oasis
		}
	}
	
	#Fallout
	if = {
		limit = { has_modifier = fallout_world }

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_searing_desert
		add_deposit = d_underwater_vent
		if = {
			limit = { owner = { has_civic = civic_machine_terminator } }
			add_deposit = d_searing_desert
		}

		# 3 + 4 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_submerged_ore_veins

		# 3 + 2 farming
		add_deposit = d_hydroponic_complex
		add_deposit = d_agrothermal_plains
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_agrarian_dome
		}
		
		add_deposit = d_tomb_world_wasteland
		add_deposit = d_tomb_world_wasteland
		add_deposit = d_bubbling_swamp
	}
	
	#generate_start_buildings_and_districts = yes
	#planet_event = { id = game_start.22 }
	
	if = {
		limit = { has_modifier = rust_world }

		# 6 blockers
		add_deposit = d_ruined_arcology
		add_deposit = d_ruined_arcology
		add_deposit = d_ruined_arcology
		add_deposit = d_ruined_arcology
		add_deposit = d_ruined_arcology
		add_deposit = d_ruined_arcology

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_gaseous_eruption
		add_deposit = d_geothermal_vent
		if = {
			limit = { owner = { is_machine_empire = yes } }
			add_deposit = d_gaseous_eruption
		}
		if = {
			limit = { owner = { has_valid_civic = civic_machine_servitor } }
			add_deposit = d_hot_springs
		}

		# 2 + 3 mining
		add_deposit = d_relic_metal_boneyard
		add_deposit = d_relic_metal_boneyard

		# 4 + 3 farming
		add_deposit = d_hydroponic_complex
		add_deposit = d_agrothermal_plains
		if = {
			limit = { owner = { is_machine_empire = no } }
			add_deposit = d_hydroponic_complex
			add_deposit = d_agrarian_dome
		}
	}
	
	# Ocean Paradise Origin
	if = {
		limit = {
			owner = {
				has_origin = origin_ocean_paradise
			}
		}
		create_ocean_paradise_planet = yes
	}
	
	if = {
		limit = {
			owner = {
				AND = {
					has_origin = origin_tree_of_life
					capital_scope = { NOT = { has_deposit = d_tree_of_life_home } }
				}
			}
		}
		owner = {
			capital_scope = {
				add_deposit = d_tree_of_life_home
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_lithoid
			}
		}
		owner = {
			capital_scope = {
				add_deposit = d_lithoid_crater
				add_deposit = d_buried_lithoids
				add_deposit = d_buried_lithoids
				add_deposit = d_buried_lithoids
				add_deposit = d_buried_lithoids
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_progenitor_hive
			}
		}
		owner = {
			capital_scope = {
				add_deposit = d_progenitor
			}
		}
	}
	if = {
		limit = {
			owner = {
				has_origin = origin_machine
			}
		}
		owner = {
			capital_scope = {
				add_deposit = d_machine_minerals
			}
		}
	}
	if = {
		limit = {
			owner = {
				any_owned_pop = {
					has_trait = trait_exotic_metabolism
				}
			}
		}

		add_deposit = d_exotic_mountain
	}
}

rust_world_deposits = {
	clear_deposits = yes
	
	if = {
		limit = { planet_size <= 15 }
		while = {
			count = 3
			add_deposit = d_ruined_arcology
		}
	}
	else_if = {
		limit = { planet_size = 16 }
		while = {
			count = 4
			add_deposit = d_ruined_arcology
		}
	}
	else_if = {
		limit = { planet_size = 17 }
		while = {
			count = 5
			add_deposit = d_ruined_arcology
		}
	}
	else_if = {
		limit = { planet_size = 18 }
		while = {
			count = 6
			add_deposit = d_ruined_arcology
		}
	}
	else_if = {
		limit = { planet_size = 19 }
		while = {
			count = 7
			add_deposit = d_ruined_arcology
		}
	}
	else_if = {
		limit = { planet_size = 20 }
		while = {
			count = 8
			add_deposit = d_ruined_arcology
		}
	}
	else_if = {
		limit = { planet_size = 21 }
		while = {
			count = 9
			add_deposit = d_ruined_arcology
		}
	}
	else_if = {
		limit = { planet_size = 22 }
		while = {
			count = 10
			add_deposit = d_ruined_arcology
		}
	}
	else_if = {
		limit = { planet_size = 23 }
		while = {
			count = 11
			add_deposit = d_ruined_arcology
		}
	}
	else_if = {
		limit = { planet_size = 24 }
		while = {
			count = 12
			add_deposit = d_ruined_arcology
		}
	}
	else_if = {
		limit = { planet_size >= 25 }
		while = {
			count = 13
			add_deposit = d_ruined_arcology
		}
	}
	
	add_deposit = d_relic_dense_ruins
	add_deposit = d_collapsed_spire
	add_deposit = d_massive_crevice
	add_deposit = d_shattered_solar_array
	add_deposit = d_flooded_reactor_pits
	add_deposit = d_crumbling_mining_tunnels
	add_deposit = d_relic_metal_boneyard
	add_deposit = d_relic_metal_boneyard
	
	prevent_anomaly = yes
}
